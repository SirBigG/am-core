/*! For license information please see j-gallery.js.LICENSE.txt */
var t={492:(t,e,n)=>{n.r(e),n.d(e,{afterMain:()=>E,afterRead:()=>b,afterWrite:()=>S,applyStyles:()=>k,arrow:()=>Z,auto:()=>s,basePlacements:()=>c,beforeMain:()=>w,beforeRead:()=>g,beforeWrite:()=>_,bottom:()=>r,clippingParents:()=>d,computeStyles:()=>nt,createPopper:()=>kt,createPopperBase:()=>Tt,createPopperLite:()=>Ct,detectOverflow:()=>yt,end:()=>l,eventListeners:()=>rt,flip:()=>bt,hide:()=>Et,left:()=>a,main:()=>x,modifierPhases:()=>O,offset:()=>_t,placements:()=>v,popper:()=>h,popperGenerator:()=>Dt,popperOffsets:()=>Pt,preventOverflow:()=>St,read:()=>y,reference:()=>p,right:()=>i,start:()=>u,top:()=>o,variationPlacements:()=>m,viewport:()=>f,write:()=>P});var o="top",r="bottom",i="right",a="left",s="auto",c=[o,r,i,a],u="start",l="end",d="clippingParents",f="viewport",h="popper",p="reference",m=c.reduce((function(t,e){return t.concat([e+"-"+u,e+"-"+l])}),[]),v=[].concat(c,[s]).reduce((function(t,e){return t.concat([e,e+"-"+u,e+"-"+l])}),[]),g="beforeRead",y="read",b="afterRead",w="beforeMain",x="main",E="afterMain",_="beforeWrite",P="write",S="afterWrite",O=[g,y,b,w,x,E,_,P,S];function N(t){return t?(t.nodeName||"").toLowerCase():null}function I(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function A(t){return t instanceof I(t).Element||t instanceof Element}function D(t){return t instanceof I(t).HTMLElement||t instanceof HTMLElement}function T(t){return"undefined"!=typeof ShadowRoot&&(t instanceof I(t).ShadowRoot||t instanceof ShadowRoot)}const k={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},o=e.attributes[t]||{},r=e.elements[t];D(r)&&N(r)&&(Object.assign(r.style,n),Object.keys(o).forEach((function(t){var e=o[t];!1===e?r.removeAttribute(t):r.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var o=e.elements[t],r=e.attributes[t]||{},i=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});D(o)&&N(o)&&(Object.assign(o.style,i),Object.keys(r).forEach((function(t){o.removeAttribute(t)})))}))}},requires:["computeStyles"]};function C(t){return t.split("-")[0]}var B=Math.max,j=Math.min,L=Math.round;function M(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function H(){return!/^((?!chrome|android).)*safari/i.test(M())}function z(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var o=t.getBoundingClientRect(),r=1,i=1;e&&D(t)&&(r=t.offsetWidth>0&&L(o.width)/t.offsetWidth||1,i=t.offsetHeight>0&&L(o.height)/t.offsetHeight||1);var a=(A(t)?I(t):window).visualViewport,s=!H()&&n,c=(o.left+(s&&a?a.offsetLeft:0))/r,u=(o.top+(s&&a?a.offsetTop:0))/i,l=o.width/r,d=o.height/i;return{width:l,height:d,top:u,right:c+l,bottom:u+d,left:c,x:c,y:u}}function G(t){var e=z(t),n=t.offsetWidth,o=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-o)<=1&&(o=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:o}}function R(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&T(n)){var o=e;do{if(o&&t.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function Y(t){return I(t).getComputedStyle(t)}function W(t){return["table","td","th"].indexOf(N(t))>=0}function U(t){return((A(t)?t.ownerDocument:t.document)||window.document).documentElement}function X(t){return"html"===N(t)?t:t.assignedSlot||t.parentNode||(T(t)?t.host:null)||U(t)}function $(t){return D(t)&&"fixed"!==Y(t).position?t.offsetParent:null}function q(t){for(var e=I(t),n=$(t);n&&W(n)&&"static"===Y(n).position;)n=$(n);return n&&("html"===N(n)||"body"===N(n)&&"static"===Y(n).position)?e:n||function(t){var e=/firefox/i.test(M());if(/Trident/i.test(M())&&D(t)&&"fixed"===Y(t).position)return null;var n=X(t);for(T(n)&&(n=n.host);D(n)&&["html","body"].indexOf(N(n))<0;){var o=Y(n);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||e&&"filter"===o.willChange||e&&o.filter&&"none"!==o.filter)return n;n=n.parentNode}return null}(t)||e}function V(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function F(t,e,n){return B(t,j(e,n))}function Q(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function K(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}const Z={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,s=t.name,u=t.options,l=n.elements.arrow,d=n.modifiersData.popperOffsets,f=C(n.placement),h=V(f),p=[a,i].indexOf(f)>=0?"height":"width";if(l&&d){var m=function(t,e){return Q("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:K(t,c))}(u.padding,n),v=G(l),g="y"===h?o:a,y="y"===h?r:i,b=n.rects.reference[p]+n.rects.reference[h]-d[h]-n.rects.popper[p],w=d[h]-n.rects.reference[h],x=q(l),E=x?"y"===h?x.clientHeight||0:x.clientWidth||0:0,_=b/2-w/2,P=m[g],S=E-v[p]-m[y],O=E/2-v[p]/2+_,N=F(P,O,S),I=h;n.modifiersData[s]=((e={})[I]=N,e.centerOffset=N-O,e)}},effect:function(t){var e=t.state,n=t.options.element,o=void 0===n?"[data-popper-arrow]":n;null!=o&&("string"!=typeof o||(o=e.elements.popper.querySelector(o)))&&R(e.elements.popper,o)&&(e.elements.arrow=o)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function J(t){return t.split("-")[1]}var tt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function et(t){var e,n=t.popper,s=t.popperRect,c=t.placement,u=t.variation,d=t.offsets,f=t.position,h=t.gpuAcceleration,p=t.adaptive,m=t.roundOffsets,v=t.isFixed,g=d.x,y=void 0===g?0:g,b=d.y,w=void 0===b?0:b,x="function"==typeof m?m({x:y,y:w}):{x:y,y:w};y=x.x,w=x.y;var E=d.hasOwnProperty("x"),_=d.hasOwnProperty("y"),P=a,S=o,O=window;if(p){var N=q(n),A="clientHeight",D="clientWidth";if(N===I(n)&&"static"!==Y(N=U(n)).position&&"absolute"===f&&(A="scrollHeight",D="scrollWidth"),c===o||(c===a||c===i)&&u===l)S=r,w-=(v&&N===O&&O.visualViewport?O.visualViewport.height:N[A])-s.height,w*=h?1:-1;if(c===a||(c===o||c===r)&&u===l)P=i,y-=(v&&N===O&&O.visualViewport?O.visualViewport.width:N[D])-s.width,y*=h?1:-1}var T,k=Object.assign({position:f},p&&tt),C=!0===m?function(t,e){var n=t.x,o=t.y,r=e.devicePixelRatio||1;return{x:L(n*r)/r||0,y:L(o*r)/r||0}}({x:y,y:w},I(n)):{x:y,y:w};return y=C.x,w=C.y,h?Object.assign({},k,((T={})[S]=_?"0":"",T[P]=E?"0":"",T.transform=(O.devicePixelRatio||1)<=1?"translate("+y+"px, "+w+"px)":"translate3d("+y+"px, "+w+"px, 0)",T)):Object.assign({},k,((e={})[S]=_?w+"px":"",e[P]=E?y+"px":"",e.transform="",e))}const nt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,o=n.gpuAcceleration,r=void 0===o||o,i=n.adaptive,a=void 0===i||i,s=n.roundOffsets,c=void 0===s||s,u={placement:C(e.placement),variation:J(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,et(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:c})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,et(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var ot={passive:!0};const rt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,o=t.options,r=o.scroll,i=void 0===r||r,a=o.resize,s=void 0===a||a,c=I(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&u.forEach((function(t){t.addEventListener("scroll",n.update,ot)})),s&&c.addEventListener("resize",n.update,ot),function(){i&&u.forEach((function(t){t.removeEventListener("scroll",n.update,ot)})),s&&c.removeEventListener("resize",n.update,ot)}},data:{}};var it={left:"right",right:"left",bottom:"top",top:"bottom"};function at(t){return t.replace(/left|right|bottom|top/g,(function(t){return it[t]}))}var st={start:"end",end:"start"};function ct(t){return t.replace(/start|end/g,(function(t){return st[t]}))}function ut(t){var e=I(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function lt(t){return z(U(t)).left+ut(t).scrollLeft}function dt(t){var e=Y(t),n=e.overflow,o=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+o)}function ft(t){return["html","body","#document"].indexOf(N(t))>=0?t.ownerDocument.body:D(t)&&dt(t)?t:ft(X(t))}function ht(t,e){var n;void 0===e&&(e=[]);var o=ft(t),r=o===(null==(n=t.ownerDocument)?void 0:n.body),i=I(o),a=r?[i].concat(i.visualViewport||[],dt(o)?o:[]):o,s=e.concat(a);return r?s:s.concat(ht(X(a)))}function pt(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function mt(t,e,n){return e===f?pt(function(t,e){var n=I(t),o=U(t),r=n.visualViewport,i=o.clientWidth,a=o.clientHeight,s=0,c=0;if(r){i=r.width,a=r.height;var u=H();(u||!u&&"fixed"===e)&&(s=r.offsetLeft,c=r.offsetTop)}return{width:i,height:a,x:s+lt(t),y:c}}(t,n)):A(e)?function(t,e){var n=z(t,!1,"fixed"===e);return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}(e,n):pt(function(t){var e,n=U(t),o=ut(t),r=null==(e=t.ownerDocument)?void 0:e.body,i=B(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=B(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),s=-o.scrollLeft+lt(t),c=-o.scrollTop;return"rtl"===Y(r||n).direction&&(s+=B(n.clientWidth,r?r.clientWidth:0)-i),{width:i,height:a,x:s,y:c}}(U(t)))}function vt(t,e,n,o){var r="clippingParents"===e?function(t){var e=ht(X(t)),n=["absolute","fixed"].indexOf(Y(t).position)>=0&&D(t)?q(t):t;return A(n)?e.filter((function(t){return A(t)&&R(t,n)&&"body"!==N(t)})):[]}(t):[].concat(e),i=[].concat(r,[n]),a=i[0],s=i.reduce((function(e,n){var r=mt(t,n,o);return e.top=B(r.top,e.top),e.right=j(r.right,e.right),e.bottom=j(r.bottom,e.bottom),e.left=B(r.left,e.left),e}),mt(t,a,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function gt(t){var e,n=t.reference,s=t.element,c=t.placement,d=c?C(c):null,f=c?J(c):null,h=n.x+n.width/2-s.width/2,p=n.y+n.height/2-s.height/2;switch(d){case o:e={x:h,y:n.y-s.height};break;case r:e={x:h,y:n.y+n.height};break;case i:e={x:n.x+n.width,y:p};break;case a:e={x:n.x-s.width,y:p};break;default:e={x:n.x,y:n.y}}var m=d?V(d):null;if(null!=m){var v="y"===m?"height":"width";switch(f){case u:e[m]=e[m]-(n[v]/2-s[v]/2);break;case l:e[m]=e[m]+(n[v]/2-s[v]/2)}}return e}function yt(t,e){void 0===e&&(e={});var n=e,a=n.placement,s=void 0===a?t.placement:a,u=n.strategy,l=void 0===u?t.strategy:u,m=n.boundary,v=void 0===m?d:m,g=n.rootBoundary,y=void 0===g?f:g,b=n.elementContext,w=void 0===b?h:b,x=n.altBoundary,E=void 0!==x&&x,_=n.padding,P=void 0===_?0:_,S=Q("number"!=typeof P?P:K(P,c)),O=w===h?p:h,N=t.rects.popper,I=t.elements[E?O:w],D=vt(A(I)?I:I.contextElement||U(t.elements.popper),v,y,l),T=z(t.elements.reference),k=gt({reference:T,element:N,strategy:"absolute",placement:s}),C=pt(Object.assign({},N,k)),B=w===h?C:T,j={top:D.top-B.top+S.top,bottom:B.bottom-D.bottom+S.bottom,left:D.left-B.left+S.left,right:B.right-D.right+S.right},L=t.modifiersData.offset;if(w===h&&L){var M=L[s];Object.keys(j).forEach((function(t){var e=[i,r].indexOf(t)>=0?1:-1,n=[o,r].indexOf(t)>=0?"y":"x";j[t]+=M[n]*e}))}return j}const bt={name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,l=t.name;if(!e.modifiersData[l]._skip){for(var d=n.mainAxis,f=void 0===d||d,h=n.altAxis,p=void 0===h||h,g=n.fallbackPlacements,y=n.padding,b=n.boundary,w=n.rootBoundary,x=n.altBoundary,E=n.flipVariations,_=void 0===E||E,P=n.allowedAutoPlacements,S=e.options.placement,O=C(S),N=g||(O===S||!_?[at(S)]:function(t){if(C(t)===s)return[];var e=at(t);return[ct(t),e,ct(e)]}(S)),I=[S].concat(N).reduce((function(t,n){return t.concat(C(n)===s?function(t,e){void 0===e&&(e={});var n=e,o=n.placement,r=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,l=void 0===u?v:u,d=J(o),f=d?s?m:m.filter((function(t){return J(t)===d})):c,h=f.filter((function(t){return l.indexOf(t)>=0}));0===h.length&&(h=f);var p=h.reduce((function(e,n){return e[n]=yt(t,{placement:n,boundary:r,rootBoundary:i,padding:a})[C(n)],e}),{});return Object.keys(p).sort((function(t,e){return p[t]-p[e]}))}(e,{placement:n,boundary:b,rootBoundary:w,padding:y,flipVariations:_,allowedAutoPlacements:P}):n)}),[]),A=e.rects.reference,D=e.rects.popper,T=new Map,k=!0,B=I[0],j=0;j<I.length;j++){var L=I[j],M=C(L),H=J(L)===u,z=[o,r].indexOf(M)>=0,G=z?"width":"height",R=yt(e,{placement:L,boundary:b,rootBoundary:w,altBoundary:x,padding:y}),Y=z?H?i:a:H?r:o;A[G]>D[G]&&(Y=at(Y));var W=at(Y),U=[];if(f&&U.push(R[M]<=0),p&&U.push(R[Y]<=0,R[W]<=0),U.every((function(t){return t}))){B=L,k=!1;break}T.set(L,U)}if(k)for(var X=function(t){var e=I.find((function(e){var n=T.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return B=e,"break"},$=_?3:1;$>0;$--){if("break"===X($))break}e.placement!==B&&(e.modifiersData[l]._skip=!0,e.placement=B,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function wt(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function xt(t){return[o,i,r,a].some((function(e){return t[e]>=0}))}const Et={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,o=e.rects.reference,r=e.rects.popper,i=e.modifiersData.preventOverflow,a=yt(e,{elementContext:"reference"}),s=yt(e,{altBoundary:!0}),c=wt(a,o),u=wt(s,r,i),l=xt(c),d=xt(u);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:l,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":d})}};const _t={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,r=t.name,s=n.offset,c=void 0===s?[0,0]:s,u=v.reduce((function(t,n){return t[n]=function(t,e,n){var r=C(t),s=[a,o].indexOf(r)>=0?-1:1,c="function"==typeof n?n(Object.assign({},e,{placement:t})):n,u=c[0],l=c[1];return u=u||0,l=(l||0)*s,[a,i].indexOf(r)>=0?{x:l,y:u}:{x:u,y:l}}(n,e.rects,c),t}),{}),l=u[e.placement],d=l.x,f=l.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=f),e.modifiersData[r]=u}};const Pt={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=gt({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}};const St={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,s=t.name,c=n.mainAxis,l=void 0===c||c,d=n.altAxis,f=void 0!==d&&d,h=n.boundary,p=n.rootBoundary,m=n.altBoundary,v=n.padding,g=n.tether,y=void 0===g||g,b=n.tetherOffset,w=void 0===b?0:b,x=yt(e,{boundary:h,rootBoundary:p,padding:v,altBoundary:m}),E=C(e.placement),_=J(e.placement),P=!_,S=V(E),O="x"===S?"y":"x",N=e.modifiersData.popperOffsets,I=e.rects.reference,A=e.rects.popper,D="function"==typeof w?w(Object.assign({},e.rects,{placement:e.placement})):w,T="number"==typeof D?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),k=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,L={x:0,y:0};if(N){if(l){var M,H="y"===S?o:a,z="y"===S?r:i,R="y"===S?"height":"width",Y=N[S],W=Y+x[H],U=Y-x[z],X=y?-A[R]/2:0,$=_===u?I[R]:A[R],Q=_===u?-A[R]:-I[R],K=e.elements.arrow,Z=y&&K?G(K):{width:0,height:0},tt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},et=tt[H],nt=tt[z],ot=F(0,I[R],Z[R]),rt=P?I[R]/2-X-ot-et-T.mainAxis:$-ot-et-T.mainAxis,it=P?-I[R]/2+X+ot+nt+T.mainAxis:Q+ot+nt+T.mainAxis,at=e.elements.arrow&&q(e.elements.arrow),st=at?"y"===S?at.clientTop||0:at.clientLeft||0:0,ct=null!=(M=null==k?void 0:k[S])?M:0,ut=Y+it-ct,lt=F(y?j(W,Y+rt-ct-st):W,Y,y?B(U,ut):U);N[S]=lt,L[S]=lt-Y}if(f){var dt,ft="x"===S?o:a,ht="x"===S?r:i,pt=N[O],mt="y"===O?"height":"width",vt=pt+x[ft],gt=pt-x[ht],bt=-1!==[o,a].indexOf(E),wt=null!=(dt=null==k?void 0:k[O])?dt:0,xt=bt?vt:pt-I[mt]-A[mt]-wt+T.altAxis,Et=bt?pt+I[mt]+A[mt]-wt-T.altAxis:gt,_t=y&&bt?function(t,e,n){var o=F(t,e,n);return o>n?n:o}(xt,pt,Et):F(y?xt:vt,pt,y?Et:gt);N[O]=_t,L[O]=_t-pt}e.modifiersData[s]=L}},requiresIfExists:["offset"]};function Ot(t,e,n){void 0===n&&(n=!1);var o,r,i=D(e),a=D(e)&&function(t){var e=t.getBoundingClientRect(),n=L(e.width)/t.offsetWidth||1,o=L(e.height)/t.offsetHeight||1;return 1!==n||1!==o}(e),s=U(e),c=z(t,a,n),u={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&(("body"!==N(e)||dt(s))&&(u=(o=e)!==I(o)&&D(o)?{scrollLeft:(r=o).scrollLeft,scrollTop:r.scrollTop}:ut(o)),D(e)?((l=z(e,!0)).x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=lt(s))),{x:c.left+u.scrollLeft-l.x,y:c.top+u.scrollTop-l.y,width:c.width,height:c.height}}function Nt(t){var e=new Map,n=new Set,o=[];function r(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var o=e.get(t);o&&r(o)}})),o.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||r(t)})),o}var It={placement:"bottom",modifiers:[],strategy:"absolute"};function At(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function Dt(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,o=void 0===n?[]:n,r=e.defaultOptions,i=void 0===r?It:r;return function(t,e,n){void 0===n&&(n=i);var r,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},It,i),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},c=[],u=!1,l={state:s,setOptions:function(n){var r="function"==typeof n?n(s.options):n;d(),s.options=Object.assign({},i,s.options,r),s.scrollParents={reference:A(t)?ht(t):t.contextElement?ht(t.contextElement):[],popper:ht(e)};var a,u,f=function(t){var e=Nt(t);return O.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}((a=[].concat(o,s.options.modifiers),u=a.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{}),Object.keys(u).map((function(t){return u[t]}))));return s.orderedModifiers=f.filter((function(t){return t.enabled})),s.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,o=void 0===n?{}:n,r=t.effect;if("function"==typeof r){var i=r({state:s,name:e,instance:l,options:o}),a=function(){};c.push(i||a)}})),l.update()},forceUpdate:function(){if(!u){var t=s.elements,e=t.reference,n=t.popper;if(At(e,n)){s.rects={reference:Ot(e,q(n),"fixed"===s.options.strategy),popper:G(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(t){return s.modifiersData[t.name]=Object.assign({},t.data)}));for(var o=0;o<s.orderedModifiers.length;o++)if(!0!==s.reset){var r=s.orderedModifiers[o],i=r.fn,a=r.options,c=void 0===a?{}:a,d=r.name;"function"==typeof i&&(s=i({state:s,options:c,name:d,instance:l})||s)}else s.reset=!1,o=-1}}},update:(r=function(){return new Promise((function(t){l.forceUpdate(),t(s)}))},function(){return a||(a=new Promise((function(t){Promise.resolve().then((function(){a=void 0,t(r())}))}))),a}),destroy:function(){d(),u=!0}};if(!At(t,e))return l;function d(){c.forEach((function(t){return t()})),c=[]}return l.setOptions(n).then((function(t){!u&&n.onFirstUpdate&&n.onFirstUpdate(t)})),l}}var Tt=Dt(),kt=Dt({defaultModifiers:[rt,Pt,nt,k,_t,bt,St,Z,Et]}),Ct=Dt({defaultModifiers:[rt,Pt,nt,k]})},695:function(t,e,n){t.exports=function(t,e,n,o){const r="5.3.0";class i extends n{constructor(e,n){super(),(e=o.getElement(e))&&(this._element=e,this._config=this._getConfig(n),t.set(this._element,this.constructor.DATA_KEY,this))}dispose(){t.remove(this._element,this.constructor.DATA_KEY),e.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,n=!0){o.executeAfterTransition(t,e,n)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(e){return t.get(o.getElement(e),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return r}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}return i}(n(493),n(286),n(705),n(72))},493:function(t){t.exports=function(){const t=new Map;return{set(e,n,o){t.has(e)||t.set(e,new Map);const r=t.get(e);r.has(n)||0===r.size?r.set(n,o):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`)},get:(e,n)=>t.has(e)&&t.get(e).get(n)||null,remove(e,n){if(!t.has(e))return;const o=t.get(e);o.delete(n),0===o.size&&t.delete(e)}}}()},286:function(t,e,n){t.exports=function(t){const e=/[^.]*(?=\..*)\.|.*/,n=/\..*/,o=/::\d+$/,r={};let i=1;const a={mouseenter:"mouseover",mouseleave:"mouseout"},s=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function c(t,e){return e&&`${e}::${i++}`||t.uidEvent||i++}function u(t){const e=c(t);return t.uidEvent=e,r[e]=r[e]||{},r[e]}function l(t,e){return function n(o){return b(o,{delegateTarget:t}),n.oneOff&&y.off(t,o.type,e),e.apply(t,[o])}}function d(t,e,n){return function o(r){const i=t.querySelectorAll(e);for(let{target:a}=r;a&&a!==this;a=a.parentNode)for(const s of i)if(s===a)return b(r,{delegateTarget:a}),o.oneOff&&y.off(t,r.type,e,n),n.apply(a,[r])}}function f(t,e,n=null){return Object.values(t).find((t=>t.callable===e&&t.delegationSelector===n))}function h(t,e,n){const o="string"==typeof e,r=o?n:e||n;let i=g(t);return s.has(i)||(i=t),[o,r,i]}function p(t,n,o,r,i){if("string"!=typeof n||!t)return;let[s,p,m]=h(n,o,r);if(n in a){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};p=t(p)}const v=u(t),g=v[m]||(v[m]={}),y=f(g,p,s?o:null);if(y)return void(y.oneOff=y.oneOff&&i);const b=c(p,n.replace(e,"")),w=s?d(t,o,p):l(t,p);w.delegationSelector=s?o:null,w.callable=p,w.oneOff=i,w.uidEvent=b,g[b]=w,t.addEventListener(m,w,s)}function m(t,e,n,o,r){const i=f(e[n],o,r);i&&(t.removeEventListener(n,i,Boolean(r)),delete e[n][i.uidEvent])}function v(t,e,n,o){const r=e[n]||{};for(const[i,a]of Object.entries(r))i.includes(o)&&m(t,e,n,a.callable,a.delegationSelector)}function g(t){return t=t.replace(n,""),a[t]||t}const y={on(t,e,n,o){p(t,e,n,o,!1)},one(t,e,n,o){p(t,e,n,o,!0)},off(t,e,n,r){if("string"!=typeof e||!t)return;const[i,a,s]=h(e,n,r),c=s!==e,l=u(t),d=l[s]||{},f=e.startsWith(".");if(void 0===a){if(f)for(const n of Object.keys(l))v(t,l,n,e.slice(1));for(const[n,r]of Object.entries(d)){const i=n.replace(o,"");c&&!e.includes(i)||m(t,l,s,r.callable,r.delegationSelector)}}else{if(!Object.keys(d).length)return;m(t,l,s,a,i?n:null)}},trigger(e,n,o){if("string"!=typeof n||!e)return null;const r=t.getjQuery();let i=null,a=!0,s=!0,c=!1;n!==g(n)&&r&&(i=r.Event(n,o),r(e).trigger(i),a=!i.isPropagationStopped(),s=!i.isImmediatePropagationStopped(),c=i.isDefaultPrevented());const u=b(new Event(n,{bubbles:a,cancelable:!0}),o);return c&&u.preventDefault(),s&&e.dispatchEvent(u),u.defaultPrevented&&i&&i.preventDefault(),u}};function b(t,e={}){for(const[n,o]of Object.entries(e))try{t[n]=o}catch(e){Object.defineProperty(t,n,{configurable:!0,get:()=>o})}return t}return y}(n(72))},175:function(t){t.exports=function(){function t(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch(e){return t}}function e(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}return{setDataAttribute(t,n,o){t.setAttribute(`data-bs-${e(n)}`,o)},removeDataAttribute(t,n){t.removeAttribute(`data-bs-${e(n)}`)},getDataAttributes(e){if(!e)return{};const n={},o=Object.keys(e.dataset).filter((t=>t.startsWith("bs")&&!t.startsWith("bsConfig")));for(const r of o){let o=r.replace(/^bs/,"");o=o.charAt(0).toLowerCase()+o.slice(1,o.length),n[o]=t(e.dataset[r])}return n},getDataAttribute:(n,o)=>t(n.getAttribute(`data-bs-${e(o)}`))}}()},737:function(t,e,n){t.exports=function(t){const e=e=>{let n=e.getAttribute("data-bs-target");if(!n||"#"===n){let t=e.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),n=t&&"#"!==t?t.trim():null}return t.parseSelector(n)},n={find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter((t=>t.matches(e))),parents(t,e){const n=[];let o=t.parentNode.closest(e);for(;o;)n.push(o),o=o.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const n=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((t=>`${t}:not([tabindex^="-"])`)).join(",");return this.find(n,e).filter((e=>!t.isDisabled(e)&&t.isVisible(e)))},getSelectorFromElement(t){const o=e(t);return o&&n.findOne(o)?o:null},getElementFromSelector(t){const o=e(t);return o?n.findOne(o):null},getMultipleElementsFromSelector(t){const o=e(t);return o?n.find(o):[]}};return n}(n(72))},872:function(t,e,n){t.exports=function(t,e,n,o,r,i){function a(t){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t)for(const n in t)if("default"!==n){const o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,o.get?o:{enumerable:!0,get:()=>t[n]})}return e.default=t,Object.freeze(e)}const s=a(t),c="dropdown",u=".bs.dropdown",l=".data-api",d="Escape",f="Tab",h="ArrowUp",p="ArrowDown",m=2,v=`hide${u}`,g=`hidden${u}`,y=`show${u}`,b=`shown${u}`,w=`click${u}${l}`,x=`keydown${u}${l}`,E=`keyup${u}${l}`,_="show",P="dropup",S="dropend",O="dropstart",N="dropup-center",I="dropdown-center",A='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',D=`${A}.${_}`,T=".dropdown-menu",k=".navbar",C=".navbar-nav",B=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",j=i.isRTL()?"top-end":"top-start",L=i.isRTL()?"top-start":"top-end",M=i.isRTL()?"bottom-end":"bottom-start",H=i.isRTL()?"bottom-start":"bottom-end",z=i.isRTL()?"left-start":"right-start",G=i.isRTL()?"right-start":"left-start",R="top",Y="bottom",W={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},U={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class X extends e{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=r.next(this._element,T)[0]||r.prev(this._element,T)[0]||r.findOne(T,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return W}static get DefaultType(){return U}static get NAME(){return c}toggle(){return this._isShown()?this.hide():this.show()}show(){if(i.isDisabled(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!n.trigger(this._element,y,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(C))for(const t of[].concat(...document.body.children))n.on(t,"mouseover",i.noop);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(_),this._element.classList.add(_),n.trigger(this._element,b,t)}}hide(){if(i.isDisabled(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!n.trigger(this._element,v,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))n.off(t,"mouseover",i.noop);this._popper&&this._popper.destroy(),this._menu.classList.remove(_),this._element.classList.remove(_),this._element.setAttribute("aria-expanded","false"),o.removeDataAttribute(this._menu,"popper"),n.trigger(this._element,g,t)}}_getConfig(t){if("object"==typeof(t=super._getConfig(t)).reference&&!i.isElement(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError(`${c.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(void 0===s)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:i.isElement(this._config.reference)?t=i.getElement(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=s.createPopper(t,this._menu,e)}_isShown(){return this._menu.classList.contains(_)}_getPlacement(){const t=this._parent;if(t.classList.contains(S))return z;if(t.classList.contains(O))return G;if(t.classList.contains(N))return R;if(t.classList.contains(I))return Y;const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains(P)?e?L:j:e?H:M}_detectNavbar(){return null!==this._element.closest(k)}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(o.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...i.execute(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:e}){const n=r.find(B,this._menu).filter((t=>i.isVisible(t)));n.length&&i.getNextActiveElement(n,e,t===p,!n.includes(e)).focus()}static jQueryInterface(t){return this.each((function(){const e=X.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}static clearMenus(t){if(t.button===m||"keyup"===t.type&&t.key!==f)return;const e=r.find(D);for(const n of e){const e=X.getInstance(n);if(!e||!1===e._config.autoClose)continue;const o=t.composedPath(),r=o.includes(e._menu);if(o.includes(e._element)||"inside"===e._config.autoClose&&!r||"outside"===e._config.autoClose&&r)continue;if(e._menu.contains(t.target)&&("keyup"===t.type&&t.key===f||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const i={relatedTarget:e._element};"click"===t.type&&(i.clickEvent=t),e._completeHide(i)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),n=t.key===d,o=[h,p].includes(t.key);if(!o&&!n)return;if(e&&!n)return;t.preventDefault();const i=this.matches(A)?this:r.prev(this,A)[0]||r.next(this,A)[0]||r.findOne(A,t.delegateTarget.parentNode),a=X.getOrCreateInstance(i);if(o)return t.stopPropagation(),a.show(),void a._selectMenuItem(t);a._isShown()&&(t.stopPropagation(),a.hide(),i.focus())}}return n.on(document,x,A,X.dataApiKeydownHandler),n.on(document,x,T,X.dataApiKeydownHandler),n.on(document,w,X.clearMenus),n.on(document,E,X.clearMenus),n.on(document,w,A,(function(t){t.preventDefault(),X.getOrCreateInstance(this).toggle()})),i.defineJQueryPlugin(X),X}(n(492),n(695),n(286),n(175),n(737),n(72))},705:function(t,e,n){t.exports=function(t,e){class n{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(n,o){const r=e.isElement(o)?t.getDataAttribute(o,"config"):{};return{...this.constructor.Default,..."object"==typeof r?r:{},...e.isElement(o)?t.getDataAttributes(o):{},..."object"==typeof n?n:{}}}_typeCheckConfig(t,n=this.constructor.DefaultType){for(const[o,r]of Object.entries(n)){const n=t[o],i=e.isElement(n)?"element":e.toType(n);if(!new RegExp(r).test(i))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${o}" provided type "${i}" but expected type "${r}".`)}}}return n}(n(175),n(72))},72:function(t,e){!function(t){const e=1e6,n=1e3,o="transitionend",r=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,((t,e)=>`#${CSS.escape(e)}`))),t),i=t=>null==t?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),a=t=>{do{t+=Math.floor(Math.random()*e)}while(document.getElementById(t));return t},s=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:o}=window.getComputedStyle(t);const r=Number.parseFloat(e),i=Number.parseFloat(o);return r||i?(e=e.split(",")[0],o=o.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(o))*n):0},c=t=>{t.dispatchEvent(new Event(o))},u=t=>!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),l=t=>u(t)?t.jquery?t[0]:t:"string"==typeof t&&t.length>0?document.querySelector(r(t)):null,d=t=>{if(!u(t)||0===t.getClientRects().length)return!1;const e="visible"===getComputedStyle(t).getPropertyValue("visibility"),n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const e=t.closest("summary");if(e&&e.parentNode!==n)return!1;if(null===e)return!1}return e},f=t=>!t||t.nodeType!==Node.ELEMENT_NODE||!!t.classList.contains("disabled")||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled")),h=t=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?h(t.parentNode):null},p=()=>{},m=t=>{t.offsetHeight},v=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,g=[],y=t=>{"loading"===document.readyState?(g.length||document.addEventListener("DOMContentLoaded",(()=>{for(const t of g)t()})),g.push(t)):t()},b=()=>"rtl"===document.documentElement.dir,w=t=>{y((()=>{const e=v();if(e){const n=t.NAME,o=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=o,t.jQueryInterface)}}))},x=(t,e=[],n=t)=>"function"==typeof t?t(...e):n,E=(t,e,n=!0)=>{if(!n)return void x(t);const r=5,i=s(e)+r;let a=!1;const u=({target:n})=>{n===e&&(a=!0,e.removeEventListener(o,u),x(t))};e.addEventListener(o,u),setTimeout((()=>{a||c(e)}),i)},_=(t,e,n,o)=>{const r=t.length;let i=t.indexOf(e);return-1===i?!n&&o?t[r-1]:t[0]:(i+=n?1:-1,o&&(i=(i+r)%r),t[Math.max(0,Math.min(i,r-1))])};t.defineJQueryPlugin=w,t.execute=x,t.executeAfterTransition=E,t.findShadowRoot=h,t.getElement=l,t.getNextActiveElement=_,t.getTransitionDurationFromElement=s,t.getUID=a,t.getjQuery=v,t.isDisabled=f,t.isElement=u,t.isRTL=b,t.isVisible=d,t.noop=p,t.onDOMContentLoaded=y,t.parseSelector=r,t.reflow=m,t.toType=i,t.triggerTransitionEnd=c,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}(e)},65:(t,e,n)=>{var o;t.exports=function(){function t(e,n,o){function r(a,s){if(!n[a]){if(!e[a]){if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};e[a][0].call(u.exports,(function(t){return r(e[a][1][t]||t)}),u,u.exports,t,e,n,o)}return n[a].exports}for(var i=void 0,a=0;a<o.length;a++)r(o[a]);return r}return t}()({1:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();t("ie-array-find-polyfill");var r=a(t("morphdom")),i=t("./util");function a(t){return t&&t.__esModule?t:{default:t}}function s(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u="input paste copy click change keydown keyup keypress contextmenu mouseup mousedown mousemove touchstart touchend touchmove compositionstart compositionend focus",l="input change click",d=u.replace(/([a-z]+)/g,"[data-action-$1],")+"[data-action]",f=function(){function t(e){var n=this;c(this,t),this.atemplate=[],this.events=[],e&&Object.keys(e).forEach((function(t){n[t]=e[t]})),this.data||(this.data={}),this.templates||(this.templates=[]);for(var o=0,r=this.templates.length;o<r;o+=1){var a=this.templates[o],s=(0,i.selector)("#"+a).innerHTML;this.atemplate.push({id:a,html:s,binded:!1})}}return o(t,[{key:"addDataBind",value:function(t){var e=this;(0,i.on)(t,"[data-bind]",l,(function(t){var n,o,r=t.delegateTarget,i=r.getAttribute("data-bind"),a=r.getAttribute("href"),s=r.value;a&&(s=s.replace("#","")),"checkbox"===r.getAttribute("type")?(n=[],o=document.querySelectorAll('[data-bind="'+i+'"]'),[].forEach.call(o,(function(t){t.checked&&n.push(t.value)}))):"radio"!==r.getAttribute("type")&&e.updateDataByString(i,s)})),this.events.push({element:t,selector:"[data-bind]",event:l})}},{key:"addActionBind",value:function(t){var e=this;(0,i.on)(t,d,u,(function(t){var n=t.delegateTarget,o=u.split(" "),r="action";o.forEach((function(e){n.getAttribute("data-action-"+e)&&t.type===e&&(r+="-"+e)}));var i=n.getAttribute("data-"+r);if(i){var a,c=i.replace(/\(.*?\);?/,""),l=i.replace(/(.*?)\((.*?)\);?/,"$2").split(",");e.e=t,e.method&&e.method[c]?(a=e.method)[c].apply(a,s(l)):e[c]&&e[c].apply(e,s(l))}})),this.events.push({element:t,selector:d,event:l})}},{key:"removeTemplateEvents",value:function(){this.events.forEach((function(t){(0,i.off)(t.element,t.selector,t.event)}))}},{key:"addTemplate",value:function(t,e){this.atemplate.push({id:t,html:e,binded:!1}),this.templates.push(t)}},{key:"getData",value:function(){return JSON.parse(JSON.stringify(this.data))}},{key:"saveData",value:function(t){var e=JSON.stringify(this.data);localStorage.setItem(t,e)}},{key:"setData",value:function(t){var e=this;Object.keys(t).forEach((function(n){"function"!=typeof t[n]&&(e.data[n]=t[n])}))}},{key:"loadData",value:function(t){var e=JSON.parse(localStorage.getItem(t));e&&this.setData(e)}},{key:"getRand",value:function(t,e){return~~(Math.random()*(e-t+1))+t}},{key:"getRandText",value:function(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=n.length,r=0;r<t;r+=1)e+=n.charAt(Math.floor(this.getRand(0,o)));return e}},{key:"getDataFromObj",value:function(t,e){for(var n=(t=(t=t.replace(/\[([\w\-\.ぁ-んァ-ヶ亜-熙]+)\]/g,".$1")).replace(/^\./,"")).split(".");n.length;){var o=n.shift();if(!(o in e))return null;e=e[o]}return e}},{key:"getDataByString",value:function(t){var e=this.data;return this.getDataFromObj(t,e)}},{key:"updateDataByString",value:function(t,e){for(var n=this.data,o=t.split(".");o.length>1;)n=n[o.shift()];n[o.shift()]=e}},{key:"removeDataByString",value:function(t){for(var e=this.data,n=t.split(".");n.length>1;)e=e[n.shift()];var o=n.shift();o.match(/^\d+$/)?e.splice(Number(o),1):delete e[o]}},{key:"resolveBlock",value:function(t,e,n){var o=this,r=t.match(/<!-- BEGIN ([\w\-\.ぁ-んァ-ヶ亜-熙]+):touch#([\w\-\.ぁ-んァ-ヶ亜-熙]+) -->/g),i=t.match(/<!-- BEGIN ([\w\-\.ぁ-んァ-ヶ亜-熙]+):touchnot#([\w\-\.ぁ-んァ-ヶ亜-熙]+) -->/g),a=t.match(/<!-- BEGIN ([\w\-\.ぁ-んァ-ヶ亜-熙]+):exist -->/g),s=t.match(/<!-- BEGIN ([\w\-\.ぁ-んァ-ヶ亜-熙]+):empty -->/g);if(r)for(var c=0,u=r.length;c<u;c+=1){var l=r[c],d=(l=l.replace(/([\w\-\.ぁ-んァ-ヶ亜-熙]+):touch#([\w\-\.ぁ-んァ-ヶ亜-熙]+)/,"($1):touch#($2)")).replace(/BEGIN/,"END"),f=new RegExp(l+"(([\\n\\r\\t]|.)*?)"+d,"g");t=t.replace(f,(function(t,n,r,i){return""+("function"==typeof e[n]?e[n].apply(o):o.getDataFromObj(n,e))===r?i:""}))}if(i)for(var h=0,p=i.length;h<p;h+=1){var m=i[h],v=(m=m.replace(/([\w\-\.ぁ-んァ-ヶ亜-熙]+):touchnot#([\w\-\.ぁ-んァ-ヶ亜-熙]+)/,"($1):touchnot#($2)")).replace(/BEGIN/,"END"),g=new RegExp(m+"(([\\n\\r\\t]|.)*?)"+v,"g");t=t.replace(g,(function(t,n,r,i){return""+("function"==typeof e[n]?e[n].apply(o):o.getDataFromObj(n,e))!==r?i:""}))}if(a)for(var y=0,b=a.length;y<b;y+=1){var w=a[y],x=(w=w.replace(/([\w\-\.ぁ-んァ-ヶ亜-熙]+):exist/,"($1):exist")).replace(/BEGIN/,"END"),E=new RegExp(w+"(([\\n\\r\\t]|.)*?)"+x,"g");t=t.replace(E,(function(t,n,r){var i="function"==typeof e[n]?e[n].apply(o):o.getDataFromObj(n,e);return i||0===i?r:""}))}if(s)for(var _=0,P=s.length;_<P;_+=1){var S=s[_],O=(S=S.replace(/([\w\-\.ぁ-んァ-ヶ亜-熙]+):empty/,"($1):empty")).replace(/BEGIN/,"END"),N=new RegExp(S+"(([\\n\\r\\t]|.)*?)"+O,"g");t=t.replace(N,(function(t,n,r){var i="function"==typeof e[n]?e[n].apply(o):o.getDataFromObj(n,e);return i||0===i?"":r}))}return t=t.replace(/{([\w\-\.ぁ-んァ-ヶ亜-熙]+)}(\[([\w\-\.ぁ-んァ-ヶ亜-熙]+)\])*/g,(function(t,r,i,a){var s=void 0;if(""+r=="i")s=n;else{if(!e[r]&&0!==e[r])return a&&o.convert&&o.convert[a]?o.convert[a].call(o,""):"";s="function"==typeof e[r]?e[r].apply(o):e[r]}return a&&o.convert&&o.convert[a]?o.convert[a].call(o,s):s}))}},{key:"resolveAbsBlock",value:function(t){var e=this;return t=t.replace(/{(.*?)}/g,(function(t,n){var o=e.getDataByString(n);return void 0!==o?"function"==typeof o?o.apply(e):o:t}))}},{key:"resolveInclude",value:function(t){var e=/<!-- #include id="(.*?)" -->/g;return t=t.replace(e,(function(t,e){return(0,i.selector)("#"+e).innerHTML}))}},{key:"resolveWith",value:function(t){var e=/<!-- BEGIN ([\w\-\.ぁ-んァ-ヶ亜-熙]+):with -->(([\n\r\t]|.)*?)<!-- END ([\w\-\.ぁ-んァ-ヶ亜-熙]+):with -->/g;return t=t.replace(e,(function(t,e){return t=t.replace(/data\-bind=['"](.*?)['"]/g,"data-bind='"+e+".$1'")}))}},{key:"resolveLoop",value:function(t){var e=/<!-- BEGIN ([\w\-\.ぁ-んァ-ヶ亜-熙]+?):loop -->(([\n\r\t]|.)*?)<!-- END ([\w\-\.ぁ-んァ-ヶ亜-熙]+?):loop -->/g,n=this;return t=t.replace(e,(function(t,e,o){var r=n.getDataByString(e),i=[],a="";if((i="function"==typeof r?r.apply(n):r)instanceof Array)for(var s=0,c=i.length;s<c;s+=1)a+=n.resolveBlock(o,i[s],s);return a=a.replace(/\\([^\\])/g,"$1")}))}},{key:"removeData",value:function(t){var e=this.data;return Object.keys(e).forEach((function(n){for(var o=0,r=t.length;o<r;o+=1)n===t[o]&&delete e[n]})),this}},{key:"hasLoop",value:function(t){var e=/<!-- BEGIN ([\w\-\.ぁ-んァ-ヶ亜-熙]+?):loop -->(([\n\r\t]|.)*?)<!-- END ([\w\-\.ぁ-んァ-ヶ亜-熙]+?):loop -->/g;return!!t.match(e)}},{key:"getHtml",value:function(t,e){var n=this.atemplate.find((function(e){return e.id===t})),o="";if(n&&n.html&&(o=n.html),e&&(o=t),!o)return"";var r=this.data;for(o=this.resolveInclude(o),o=this.resolveWith(o);this.hasLoop(o);)o=this.resolveLoop(o);return o=(o=this.resolveBlock(o,r)).replace(/\\([^\\])/g,"$1"),(o=this.resolveAbsBlock(o)).replace(/^([\t ])*\n/gm,"")}},{key:"update",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"html",n=arguments[1],o=this.templates;this.beforeUpdated&&this.beforeUpdated();for(var a=function(a,s){var c=o[a],u="#"+c,l=t.getHtml(c),d=(0,i.selector)("[data-id='"+c+"']");if(d)if("text"===e)d.innerText=l;else if(n){var f=document.createElement("div");f.innerHTML=l;var h=f.querySelector(n).outerHTML;(0,r.default)(d.querySelector(n),h)}else(0,r.default)(d,"<div data-id='"+c+"'>"+l+"</div>");else(0,i.selector)(u).insertAdjacentHTML("afterend",'<div data-id="'+c+'"></div>'),"text"===e?(0,i.selector)("[data-id='"+c+"']").innerText=l:(0,i.selector)("[data-id='"+c+"']").innerHTML=l;var p=t.atemplate.find((function(t){return t.id===c}));p.binded||(p.binded=!0,t.addDataBind((0,i.selector)("[data-id='"+c+"']")),t.addActionBind((0,i.selector)("[data-id='"+c+"']")))},s=0,c=o.length;s<c;s+=1)a(s,c);return this.updateBindingData(n),this.onUpdated&&this.onUpdated(n),this}},{key:"updateBindingData",value:function(t){for(var e=this,n=this.templates,o=0,r=n.length;o<r;o+=1){var a=n[o],s=(0,i.selector)("[data-id='"+a+"']");t&&(s=s.querySelector(t));var c=s.querySelectorAll("[data-bind]");[].forEach.call(c,(function(t){var n=e.getDataByString(t.getAttribute("data-bind"));"checkbox"===t.getAttribute("type")||"radio"===t.getAttribute("type")?n===t.value&&(t.checked=!0):t.value=n}));var u=s.querySelectorAll("[data-bind-oneway]");[].forEach.call(u,(function(t){var n=e.getDataByString(t.getAttribute("data-bind-oneway"));"checkbox"===t.getAttribute("type")||"radio"===t.getAttribute("type")?n===t.value&&(t.checked=!0):t.value=n}))}return this}},{key:"applyMethod",value:function(t){for(var e,n=arguments.length,o=Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return(e=this.method)[t].apply(e,o)}},{key:"getComputedProp",value:function(t){return this.data[t].apply(this)}},{key:"remove",value:function(t){for(var e=this.data,n=t.split(".");n.length>1;)e=e[n.shift()];var o=n.shift();return o.match(/^\d+$/)?e.splice(Number(o),1):delete e[o],this}}]),t}();n.default=f,e.exports=n.default},{"./util":2,"ie-array-find-polyfill":5,morphdom:6}],2:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var o=n.matches=function(t,e){for(var n=(t.document||t.ownerDocument).querySelectorAll(e),o=n.length;--o>=0&&n.item(o)!==t;);return o>-1},r=(n.selector=function(t){return document.querySelector(t)},n.findAncestor=function(t,e){if("function"==typeof t.closest)return t.closest(e)||null;for(;t&&t!==document;){if(o(t,e))return t;t=t.parentElement}return null}),i=[];n.on=function(t,e,n,o){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n.split(" ").forEach((function(n){var s=function(t){var n=r(t.target,e);n&&(t.delegateTarget=n,o(t))};i.push({listener:s,element:t,query:e,event:n,capture:a}),t.addEventListener(n,s,a)}))},n.off=function(t,e,n){n.split(" ").forEach((function(n){i.forEach((function(o,r){o.element===t&&o.query===e&&o.event===n&&(t.removeEventListener(n,o.listener,o.capture),i.splice(r,1))}))}))}},{}],3:[function(t,e,n){try{var o=new window.CustomEvent("test");if(o.preventDefault(),!0!==o.defaultPrevented)throw new Error("Could not prevent default")}catch(t){var r=function(t,e){var n,o;return e=e||{bubbles:!1,cancelable:!1,detail:void 0},(n=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),o=n.preventDefault,n.preventDefault=function(){o.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(t){this.defaultPrevented=!0}},n};r.prototype=window.Event.prototype,window.CustomEvent=r}},{}],4:[function(t,e,r){(function(t,e){!function(t){var n=t.Promise,i=n&&"resolve"in n&&"reject"in n&&"all"in n&&"race"in n&&function(){var t;return new n((function(e){t=e})),"function"==typeof t}();void 0!==r&&r?(r.Promise=i?n:O,r.Polyfill=O):"function"==typeof o&&o.amd?o((function(){return i?n:O})):i||(t.Promise=O);var a="pending",s="sealed",c="fulfilled",u="rejected",l=function(){};function d(t){return"[object Array]"===Object.prototype.toString.call(t)}var f,h=void 0!==e?e:setTimeout,p=[];function m(){for(var t=0;t<p.length;t++)p[t][0](p[t][1]);p=[],f=!1}function v(t,e){p.push([t,e]),f||(f=!0,h(m,0))}function g(t,e){function n(t){w(e,t)}function o(t){E(e,t)}try{t(n,o)}catch(t){o(t)}}function y(t){var e=t.owner,n=e.state_,o=e.data_,r=t[n],i=t.then;if("function"==typeof r){n=c;try{o=r(o)}catch(t){E(i,t)}}b(i,o)||(n===c&&w(i,o),n===u&&E(i,o))}function b(t,e){var n;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"==typeof e)){var o=e.then;if("function"==typeof o)return o.call(e,(function(o){n||(n=!0,e!==o?w(t,o):x(t,o))}),(function(e){n||(n=!0,E(t,e))})),!0}}catch(e){return n||E(t,e),!0}return!1}function w(t,e){t!==e&&b(t,e)||x(t,e)}function x(t,e){t.state_===a&&(t.state_=s,t.data_=e,v(P,t))}function E(t,e){t.state_===a&&(t.state_=s,t.data_=e,v(S,t))}function _(t){var e=t.then_;t.then_=void 0;for(var n=0;n<e.length;n++)y(e[n])}function P(t){t.state_=c,_(t)}function S(t){t.state_=u,_(t)}function O(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof O==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],g(t,this)}O.prototype={constructor:O,state_:a,then_:null,data_:void 0,then:function(t,e){var n={owner:this,then:new this.constructor(l),fulfilled:t,rejected:e};return this.state_===c||this.state_===u?v(y,n):this.then_.push(n),n.then},catch:function(t){return this.then(null,t)}},O.all=function(t){var e=this;if(!d(t))throw new TypeError("You must pass an array to Promise.all().");return new e((function(e,n){var o=[],r=0;function i(t){return r++,function(n){o[t]=n,--r||e(o)}}for(var a,s=0;s<t.length;s++)(a=t[s])&&"function"==typeof a.then?a.then(i(s),n):o[s]=a;r||e(o)}))},O.race=function(t){var e=this;if(!d(t))throw new TypeError("You must pass an array to Promise.race().");return new e((function(e,n){for(var o,r=0;r<t.length;r++)(o=t[r])&&"function"==typeof o.then?o.then(e,n):e(o)}))},O.resolve=function(t){var e=this;return t&&"object"==typeof t&&t.constructor===e?t:new e((function(e){e(t)}))},O.reject=function(t){return new this((function(e,n){n(t)}))}}("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("timers").setImmediate)},{timers:8}],5:[function(t,e,n){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError("this is null or not defined");var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var o=arguments[1],r=0;r<n;){var i=e[r];if(t.call(o,i,r,e))return i;r++}}})},{}],6:[function(t,e,n){var o,r=11;function i(t,e){var n,o,i,a,s=e.attributes;if(e.nodeType!==r&&t.nodeType!==r){for(var c=s.length-1;c>=0;c--)o=(n=s[c]).name,i=n.namespaceURI,a=n.value,i?(o=n.localName||o,t.getAttributeNS(i,o)!==a&&("xmlns"===n.prefix&&(o=n.name),t.setAttributeNS(i,o,a))):t.getAttribute(o)!==a&&t.setAttribute(o,a);for(var u=t.attributes,l=u.length-1;l>=0;l--)o=(n=u[l]).name,(i=n.namespaceURI)?(o=n.localName||o,e.hasAttributeNS(i,o)||t.removeAttributeNS(i,o)):e.hasAttribute(o)||t.removeAttribute(o)}}var a="http://www.w3.org/1999/xhtml",s="undefined"==typeof document?void 0:document,c=!!s&&"content"in s.createElement("template"),u=!!s&&s.createRange&&"createContextualFragment"in s.createRange();function l(t){var e=s.createElement("template");return e.innerHTML=t,e.content.childNodes[0]}function d(t){return o||(o=s.createRange()).selectNode(s.body),o.createContextualFragment(t).childNodes[0]}function f(t){var e=s.createElement("body");return e.innerHTML=t,e.childNodes[0]}function h(t){return t=t.trim(),c?l(t):u?d(t):f(t)}function p(t,e){var n=t.nodeName,o=e.nodeName;return n===o||!!(e.actualize&&n.charCodeAt(0)<91&&o.charCodeAt(0)>90)&&n===o.toUpperCase()}function m(t,e){return e&&e!==a?s.createElementNS(e,t):s.createElement(t)}function v(t,e){for(var n=t.firstChild;n;){var o=n.nextSibling;e.appendChild(n),n=o}return e}function g(t,e,n){t[n]!==e[n]&&(t[n]=e[n],t[n]?t.setAttribute(n,""):t.removeAttribute(n))}var y={OPTION:function(t,e){var n=t.parentNode;if(n){var o=n.nodeName.toUpperCase();"OPTGROUP"===o&&(o=(n=n.parentNode)&&n.nodeName.toUpperCase()),"SELECT"!==o||n.hasAttribute("multiple")||(t.hasAttribute("selected")&&!e.selected&&(t.setAttribute("selected","selected"),t.removeAttribute("selected")),n.selectedIndex=-1)}g(t,e,"selected")},INPUT:function(t,e){g(t,e,"checked"),g(t,e,"disabled"),t.value!==e.value&&(t.value=e.value),e.hasAttribute("value")||t.removeAttribute("value")},TEXTAREA:function(t,e){var n=e.value;t.value!==n&&(t.value=n);var o=t.firstChild;if(o){var r=o.nodeValue;if(r==n||!n&&r==t.placeholder)return;o.nodeValue=n}},SELECT:function(t,e){if(!e.hasAttribute("multiple")){for(var n,o,r=-1,i=0,a=t.firstChild;a;)if("OPTGROUP"===(o=a.nodeName&&a.nodeName.toUpperCase()))a=(n=a).firstChild;else{if("OPTION"===o){if(a.hasAttribute("selected")){r=i;break}i++}!(a=a.nextSibling)&&n&&(a=n.nextSibling,n=null)}t.selectedIndex=r}}},b=1,w=11,x=3,E=8;function _(){}function P(t){if(t)return t.getAttribute&&t.getAttribute("id")||t.id}function S(t){return function(e,n,o){if(o||(o={}),"string"==typeof n)if("#document"===e.nodeName||"HTML"===e.nodeName){var r=n;(n=s.createElement("html")).innerHTML=r}else n=h(n);var i=o.getNodeKey||P,a=o.onBeforeNodeAdded||_,c=o.onNodeAdded||_,u=o.onBeforeElUpdated||_,l=o.onElUpdated||_,d=o.onBeforeNodeDiscarded||_,f=o.onNodeDiscarded||_,g=o.onBeforeElChildrenUpdated||_,S=!0===o.childrenOnly,O=Object.create(null),N=[];function I(t){N.push(t)}function A(t,e){if(t.nodeType===b)for(var n=t.firstChild;n;){var o=void 0;e&&(o=i(n))?I(o):(f(n),n.firstChild&&A(n,e)),n=n.nextSibling}}function D(t,e,n){!1!==d(t)&&(e&&e.removeChild(t),f(t),A(t,n))}function T(t){if(t.nodeType===b||t.nodeType===w)for(var e=t.firstChild;e;){var n=i(e);n&&(O[n]=e),T(e),e=e.nextSibling}}function k(t){c(t);for(var e=t.firstChild;e;){var n=e.nextSibling,o=i(e);if(o){var r=O[o];r&&p(e,r)&&(e.parentNode.replaceChild(r,e),B(r,e))}k(e),e=n}}function C(t,e,n){for(;e;){var o=e.nextSibling;(n=i(e))?I(n):D(e,t,!0),e=o}}function B(e,n,o){var r=i(n);if(r&&delete O[r],!o){if(!1===u(e,n))return;if(t(e,n),l(e),!1===g(e,n))return}"TEXTAREA"!==e.nodeName?j(e,n):y.TEXTAREA(e,n)}function j(t,e){var n,o,r,c,u,l=e.firstChild,d=t.firstChild;t:for(;l;){for(c=l.nextSibling,n=i(l);d;){if(r=d.nextSibling,l.isSameNode&&l.isSameNode(d)){l=c,d=r;continue t}o=i(d);var f=d.nodeType,h=void 0;if(f===l.nodeType&&(f===b?(n?n!==o&&((u=O[n])?r===u?h=!1:(t.insertBefore(u,d),o?I(o):D(d,t,!0),d=u):h=!1):o&&(h=!1),(h=!1!==h&&p(d,l))&&B(d,l)):f!==x&&f!=E||(h=!0,d.nodeValue!==l.nodeValue&&(d.nodeValue=l.nodeValue))),h){l=c,d=r;continue t}o?I(o):D(d,t,!0),d=r}if(n&&(u=O[n])&&p(u,l))t.appendChild(u),B(u,l);else{var m=a(l);!1!==m&&(m&&(l=m),l.actualize&&(l=l.actualize(t.ownerDocument||s)),t.appendChild(l),k(l))}l=c,d=r}C(t,d,o);var v=y[t.nodeName];v&&v(t,e)}T(e);var L=e,M=L.nodeType,H=n.nodeType;if(!S)if(M===b)H===b?p(e,n)||(f(e),L=v(e,m(n.nodeName,n.namespaceURI))):L=n;else if(M===x||M===E){if(H===M)return L.nodeValue!==n.nodeValue&&(L.nodeValue=n.nodeValue),L;L=n}if(L===n)f(e);else{if(n.isSameNode&&n.isSameNode(L))return;if(B(L,n,S),N)for(var z=0,G=N.length;z<G;z++){var R=O[N[z]];R&&D(R,R.parentNode,!1)}}return!S&&L!==e&&e.parentNode&&(L.actualize&&(L=L.actualize(e.ownerDocument||s)),e.parentNode.replaceChild(L,e)),L}}var O=S(i);e.exports=O},{}],7:[function(t,e,n){var o,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(t){if(o===setTimeout)return setTimeout(t,0);if((o===a||!o)&&setTimeout)return o=setTimeout,setTimeout(t,0);try{return o(t,0)}catch(e){try{return o.call(null,t,0)}catch(e){return o.call(this,t,0)}}}function u(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:a}catch(t){o=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var l,d=[],f=!1,h=-1;function p(){f&&l&&(f=!1,l.length?d=l.concat(d):h=-1,d.length&&m())}function m(){if(!f){var t=c(p);f=!0;for(var e=d.length;e;){for(l=d,d=[];++h<e;)l&&l[h].run();h=-1,e=d.length}l=null,f=!1,u(t)}}function v(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new v(t,e)),1!==d.length||f||c(m)},v.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],8:[function(t,e,n){(function(e,o){var r=t("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,s={},c=0;function u(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new u(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new u(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n.setImmediate="function"==typeof e?e:function(t){var e=c++,o=!(arguments.length<2)&&a.call(arguments,1);return s[e]=!0,r((function(){s[e]&&(o?t.apply(null,o):t.call(null),n.clearImmediate(e))})),e},n.clearImmediate="function"==typeof o?o:function(t){delete s[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":7,timers:8}],9:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(t("a-template"));function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?l(t):e}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}t("custom-event-polyfill");var p='<div class="\\{classNames.smartPhoto\\}"\x3c!-- BEGIN hide:exist --\x3e aria-hidden="true"\x3c!-- END hide:exist --\x3e\x3c!-- BEGIN hide:empty --\x3e aria-hidden="false"\x3c!-- END hide:empty --\x3e role="dialog">\n\t<div class="\\{classNames.smartPhotoBody\\}">\n\t\t<div class="\\{classNames.smartPhotoInner\\}">\n\t\t\t   <div class="\\{classNames.smartPhotoHeader\\}">\n\t\t\t\t\t<span class="\\{classNames.smartPhotoCount\\}">{currentIndex}[increment]/{total}</span>\n\t\t\t\t\t<span class="\\{classNames.smartPhotoCaption\\}" aria-live="polite" tabindex="-1">\x3c!-- BEGIN groupItems:loop --\x3e\x3c!-- \\BEGIN currentIndex:touch#{index} --\x3e{caption}\x3c!-- \\END currentIndex:touch#{index} --\x3e\x3c!-- END groupItems:loop --\x3e</span>\n\t\t\t\t\t<button class="\\{classNames.smartPhotoDismiss\\}" data-action-click="hidePhoto()"><span class="smartphoto-sr-only">\\{message.closeDialog\\}</span></button>\n\t\t\t\t</div>\n\t\t\t\t<div class="\\{classNames.smartPhotoContent\\}"\x3c!-- BEGIN isSmartPhone:exist --\x3e data-action-touchstart="beforeDrag" data-action-touchmove="onDrag" data-action-touchend="afterDrag(false)"\x3c!-- END isSmartPhone:exist --\x3e\x3c!-- BEGIN isSmartPhone:empty --\x3e data-action-click="hidePhoto()"\x3c!-- END isSmartPhone:empty --\x3e>\n\t\t\t\t</div>\n\t\t\t\t<ul style="transform:translate({translateX}[round]px,{translateY}[round]px);" class="\\{classNames.smartPhotoList\\}\x3c!-- BEGIN onMoveClass:exist --\x3e \\{classNames.smartPhotoListOnMove\\}\x3c!-- END onMoveClass:exist --\x3e">\n\t\t\t\t\t\x3c!-- BEGIN groupItems:loop --\x3e\n\t\t\t\t\t<li style="transform:translate({translateX}[round]px,{translateY}[round]px);" class="\x3c!-- \\BEGIN currentIndex:touch#{index} --\x3ecurrent\x3c!-- \\END currentIndex:touch#{index} --\x3e">\n\t\t\t\t\t\t\x3c!-- BEGIN processed:exist --\x3e\n\t\t\t\t\t\t<div style="transform:translate({x}[round]px,{y}[round]px) scale({scale});" class="\\\\{classNames.smartPhotoImgWrap\\\\}"\x3c!-- \\BEGIN isSmartPhone:empty --\x3e data-action-mousemove="onDrag" data-action-mousedown="beforeDrag" data-action-mouseup="afterDrag"\x3c!-- \\END isSmartPhone:empty --\x3e\x3c!-- \\BEGIN isSmartPhone:exist --\x3e data-action-touchstart="beforeDrag" data-action-touchmove="onDrag" data-action-touchend="afterDrag"\x3c!-- \\END isSmartPhone:exist --\x3e>\n\t\t\t\t\t\t\t<img style="\x3c!-- \\BEGIN currentIndex:touch#{index} --\x3etransform:translate(\\{photoPosX\\}[virtualPos]px,\\{photoPosY\\}[virtualPos]px) scale(\\{scaleSize\\});\x3c!-- \\END currentIndex:touch#{index} --\x3ewidth:{width}px;" src="{src}" class="\\\\{classNames.smartPhotoImg\\\\}\x3c!-- \\BEGIN scale:exist --\x3e  \\\\{classNames.smartPhotoImgOnMove\\\\}\x3c!-- \\END scale:exist --\x3e\x3c!-- \\BEGIN elastic:exist --\x3e \\\\{classNames.smartPhotoImgElasticMove\\\\}\x3c!-- \\END elastic:exist --\x3e\x3c!-- \\BEGIN appear:exist --\x3e active\x3c!-- \\END appear:exist --\x3e" ondragstart="return false;">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\x3c!-- END processed:exist --\x3e\n\t\t\t\t\t\t\x3c!-- BEGIN processed:empty --\x3e\n\t\t\t\t\t\t<div class="\\\\{classNames.smartPhotoLoaderWrap\\\\}">\n\t\t\t\t\t\t\t<span class="\\\\{classNames.smartPhotoLoader\\\\}"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\x3c!-- END processed:empty --\x3e\n\t\t\t\t\t</li>\n\t\t\t\t\t\x3c!-- END groupItems:loop --\x3e\n\t\t\t\t</ul>\n\t\t\t\t\x3c!-- BEGIN arrows:exist --\x3e\n\t\t\t\t<ul class="\\{classNames.smartPhotoArrows\\}"\x3c!-- BEGIN hideUi:exist --\x3e aria-hidden="true"\x3c!-- END hideUi:exist --\x3e\x3c!-- BEGIN hideUi:exist --\x3e aria-hidden="false"\x3c!-- END hideUi:exist --\x3e>\n\t\t\t\t\t<li class="\\{classNames.smartPhotoArrowLeft\\}\x3c!-- BEGIN isSmartPhone:exist --\x3e \\{classNames.smartPhotoArrowHideIcon\\}\x3c!-- END isSmartPhone:exist --\x3e"\x3c!-- BEGIN showPrevArrow:empty --\x3e aria-hidden="true"\x3c!-- END showPrevArrow:empty --\x3e><a href="#" data-action-click="gotoSlide({prev})" role="button"><span class="smartphoto-sr-only">\\{message.gotoPrevImage\\}</span></a></li>\n\t\t\t\t\t<li class="\\{classNames.smartPhotoArrowRight\\}\x3c!-- BEGIN isSmartPhone:exist --\x3e \\{classNames.smartPhotoArrowHideIcon\\}\x3c!-- END isSmartPhone:exist --\x3e"\x3c!-- BEGIN showNextArrow:empty --\x3e aria-hidden="true"\x3c!-- END showNextArrow:empty --\x3e><a href="#" data-action-click="gotoSlide({next})" role="button"><span class="smartphoto-sr-only">\\{message.gotoNextImage\\}</span></a></li>\n\t\t\t\t</ul>\n\t\t\t\t\x3c!-- END arrows:exist --\x3e\n\t\t\t\t\x3c!-- BEGIN nav:exist --\x3e\n\t\t\t\t<nav class="\\{classNames.smartPhotoNav\\}"\x3c!-- BEGIN hideUi:exist --\x3e aria-hidden="true"\x3c!-- END hideUi:exist --\x3e\x3c!-- BEGIN hideUi:exist --\x3e aria-hidden="false"\x3c!-- END hideUi:exist --\x3e>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t\x3c!-- BEGIN groupItems:loop --\x3e\n\t\t\t\t\t\t<li><a href="#" data-action-click="gotoSlide({index})" class="\x3c!-- \\BEGIN currentIndex:touch#{index} --\x3ecurrent\x3c!-- \\END currentIndex:touch#{index} --\x3e" style="background-image:url(\'{thumb}\');" role="button"><span class="smartphoto-sr-only">go to {caption}</span></a></li>\n\t\t\t\t\t\t\x3c!-- END groupItems:loop --\x3e\n\t\t\t\t\t</ul>\n\t\t\t\t</nav>\n\t\t\t\t\x3c!-- END nav:exist --\x3e\n\t\t</div>\n\t\t\x3c!-- BEGIN appearEffect:exist --\x3e\n\t\t<img src=\\{appearEffect.img\\}\n\t\tclass="\\{classNames.smartPhotoImgClone\\}"\n\t\tstyle="width:\\{appearEffect.width\\}px;height:\\{appearEffect.height\\}px;transform:translate(\\{appearEffect.left\\}px,\\{appearEffect.top\\}px) scale(1)" />\n\t\t\x3c!-- END appearEffect:exist --\x3e\n\t</div>\n</div>\n',m=t("../lib/util"),v=t("es6-promise-polyfill").Promise,g={classNames:{smartPhoto:"smartphoto",smartPhotoClose:"smartphoto-close",smartPhotoBody:"smartphoto-body",smartPhotoInner:"smartphoto-inner",smartPhotoContent:"smartphoto-content",smartPhotoImg:"smartphoto-img",smartPhotoImgOnMove:"smartphoto-img-onmove",smartPhotoImgElasticMove:"smartphoto-img-elasticmove",smartPhotoImgWrap:"smartphoto-img-wrap",smartPhotoArrows:"smartphoto-arrows",smartPhotoNav:"smartphoto-nav",smartPhotoArrowRight:"smartphoto-arrow-right",smartPhotoArrowLeft:"smartphoto-arrow-left",smartPhotoArrowHideIcon:"smartphoto-arrow-hide",smartPhotoImgLeft:"smartphoto-img-left",smartPhotoImgRight:"smartphoto-img-right",smartPhotoList:"smartphoto-list",smartPhotoListOnMove:"smartphoto-list-onmove",smartPhotoHeader:"smartphoto-header",smartPhotoCount:"smartphoto-count",smartPhotoCaption:"smartphoto-caption",smartPhotoDismiss:"smartphoto-dismiss",smartPhotoLoader:"smartphoto-loader",smartPhotoLoaderWrap:"smartphoto-loader-wrap",smartPhotoImgClone:"smartphoto-img-clone"},message:{gotoNextImage:"go to the next image",gotoPrevImage:"go to the previous image",closeDialog:"close the image dialog"},arrows:!0,nav:!0,showAnimation:!0,verticalGravity:!1,useOrientationApi:!1,useHistoryApi:!0,swipeTopToClose:!1,swipeBottomToClose:!0,swipeOffset:100,headerHeight:60,footerHeight:60,forceInterval:10,registance:.5,loadOffset:2,resizeStyle:"fit",lazyAttribute:"data-src"},y=function(t){function e(t,n){var o;a(this,e),(o=u(this,d(e).call(this))).data=m.extend({},g,n),o.data.currentIndex=0,o.data.oldIndex=0,o.data.hide=!0,o.data.group={},o.data.scaleSize=1,o.data.scale=!1,o.pos={x:0,y:0},o.data.photoPosX=0,o.data.photoPosY=0,o.handlers=[],o.convert={increment:o.increment,virtualPos:o.virtualPos,round:o.round},o.data.groupItems=o.groupItems,o.elements="string"==typeof t?document.querySelectorAll(t):t;var r=new Date;o.tapSecond=r.getTime(),o.onListMove=!1,o.clicked=!1,o.id=o._getUniqId(),o.vx=0,o.vy=0,o.data.appearEffect=null,o.addTemplate(o.id,p),o.data.isSmartPhone=o._isSmartPhone();var i=document.querySelector("body");m.append(i,"<div data-id='".concat(o.id,"'></div>")),[].forEach.call(o.elements,(function(t){o.addNewItem(t)})),o.update();var s=o._getCurrentItemByHash();if(s&&m.triggerEvent(s.element,"click"),o.interval=setInterval((function(){o._doAnim()}),o.data.forceInterval),!o.data.isSmartPhone){var c=function(){o.groupItems()&&(o._resetTranslate(),o._setPosByCurrentIndex(),o._setSizeByScreen(),o.update())},l=function(t){var e=t.keyCode||t.which;!0!==o.data.hide&&(37===e?o.gotoSlide(o.data.prev):39===e?o.gotoSlide(o.data.next):27===e&&o.hidePhoto())};return window.addEventListener("resize",c),window.addEventListener("keydown",l),o._registerRemoveEvent(window,"resize",c),o._registerRemoveEvent(window,"keydown",l),u(o)}var f=function(){if(o.groupItems()){o._resetTranslate(),o._setPosByCurrentIndex(),o._setHashByCurrentIndex(),o._setSizeByScreen(),o.update();var t=o._getWindowWidth(),e=500;!function n(r){new v((function(t){setTimeout((function(){t()}),25)})).then((function(){t!==o._getWindowWidth()?(o._resetTranslate(),o._setPosByCurrentIndex(),o._setHashByCurrentIndex(),o._setSizeByScreen(),o.update()):r<=e&&n(r+25)}))}(0)}};if(window.addEventListener("orientationchange",f),o._registerRemoveEvent(window,"orientationchange",f),!o.data.useOrientationApi)return u(o);var h=function(t){var e=window.orientation;t&&t.gamma&&!o.data.appearEffect&&(o.isBeingZoomed||o.photoSwipable||o.data.elastic||!o.data.scale||(0===e?o._calcGravity(t.gamma,t.beta):90===e?o._calcGravity(t.beta,t.gamma):-90===e?o._calcGravity(-t.beta,-t.gamma):180===e&&o._calcGravity(-t.gamma,-t.beta)))};return window.addEventListener("deviceorientation",h),o._registerRemoveEvent(window,"deviceorientation",h),o}return f(e,t),c(e,[{key:"on",value:function(t,e){var n=this._getElementByClass(this.data.classNames.smartPhoto),o=function(t){e.call(n,t)};n.addEventListener(t,o),this._registerRemoveEvent(n,t,o)}},{key:"_registerRemoveEvent",value:function(t,e,n){this.handlers.push({target:t,event:e,handler:n})}},{key:"destroy",value:function(){this.handlers.forEach((function(t){t.target.removeEventListener(t.event,t.handler)}));var t=document.querySelector('[data-id="'.concat(this.id,'"]'));m.removeElement(t),clearInterval(this.interval),this.removeTemplateEvents()}},{key:"increment",value:function(t){return t+1}},{key:"round",value:function(t){return Math.round(t)}},{key:"virtualPos",value:function(t){return(t=parseInt(t,10))/this._getSelectedItem().scale/this.data.scaleSize}},{key:"groupItems",value:function(){return this.data.group[this.data.currentGroup]}},{key:"_resetTranslate",value:function(){var t=this;this.groupItems().forEach((function(e,n){e.translateX=t._getWindowWidth()*n}))}},{key:"addNewItem",value:function(t){var e=this,n=t.getAttribute("data-group")||"nogroup",o=this.data.group;"nogroup"===n&&t.setAttribute("data-group","nogroup"),o[n]||(o[n]=[]);var r=o[n].length,i=document.querySelector("body"),a=t.getAttribute("href"),s=t.querySelector("img"),c=a;s&&(c=s.getAttribute(this.data.lazyAttribute)?s.getAttribute(this.data.lazyAttribute):s.currentSrc?s.currentSrc:s.src);var u={src:a,thumb:c,caption:t.getAttribute("data-caption"),groupId:n,translateX:this._getWindowWidth()*r,index:r,translateY:0,width:50,height:50,id:t.getAttribute("data-id")||r,loaded:!1,processed:!1,element:t};o[n].push(u),this.data.currentGroup=n,t.getAttribute("data-id")||t.setAttribute("data-id",r),t.setAttribute("data-index",r);var l=function(n){n.preventDefault(),e.data.currentGroup=t.getAttribute("data-group"),e.data.currentIndex=parseInt(t.getAttribute("data-index"),10),e._setHashByCurrentIndex();var o=e._getSelectedItem();o.loaded?(e._initPhoto(),e.addAppearEffect(t,o),e.clicked=!0,e.update(),i.style.overflow="hidden",e._fireEvent("open")):e._loadItem(o).then((function(){e._initPhoto(),e.addAppearEffect(t,o),e.clicked=!0,e.update(),i.style.overflow="hidden",e._fireEvent("open")}))};t.addEventListener("click",l),this._registerRemoveEvent(t,"click",l)}},{key:"_initPhoto",value:function(){this.data.total=this.groupItems().length,this.data.hide=!1,this.data.photoPosX=0,this.data.photoPosY=0,this._setPosByCurrentIndex(),this._setSizeByScreen(),this.setArrow(),"fill"===this.data.resizeStyle&&this.data.isSmartPhone&&(this.data.scale=!0,this.data.hideUi=!0,this.data.scaleSize=this._getScaleBoarder())}},{key:"onUpdated",value:function(){var t=this;if(this.data.appearEffect&&this.data.appearEffect.once&&(this.data.appearEffect.once=!1,this.execEffect().then((function(){t.data.appearEffect=null,t.data.appear=!0,t.update()}))),this.clicked){this.clicked=!1;var e=this.data.classNames;this._getElementByClass(e.smartPhotoCaption).focus()}}},{key:"execEffect",value:function(){var t=this;return new v((function(e){m.isOldIE()&&e();var n=t.data,o=n.appearEffect,r=n.classNames,i=t._getElementByClass(r.smartPhotoImgClone),a=function t(){i.removeEventListener("transitionend",t,!0),e()};i.addEventListener("transitionend",a,!0),setTimeout((function(){i.style.transform="translate(".concat(o.afterX,"px, ").concat(o.afterY,"px) scale(").concat(o.scale,")")}),10)}))}},{key:"addAppearEffect",value:function(t,e){if(!1!==this.data.showAnimation){var n=t.querySelector("img"),o=m.getViewPos(n),r={},i=1;r.width=n.offsetWidth,r.height=n.offsetHeight,r.top=o.top,r.left=o.left,r.once=!0,n.getAttribute(this.data.lazyAttribute)?r.img=n.getAttribute(this.data.lazyAttribute):r.img=e.src;var a=this._getWindowWidth(),s=this._getWindowHeight(),c=s-this.data.headerHeight-this.data.footerHeight;"fill"===this.data.resizeStyle&&this.data.isSmartPhone?i=n.offsetWidth>n.offsetHeight?s/n.offsetHeight:a/n.offsetWidth:(r.width>=r.height?i=e.height<c?e.width/r.width:c/r.height:r.height>r.width&&(i=e.height<c?e.height/r.height:c/r.height),r.width*i>a&&(i=a/r.width));var u=(i-1)/2*n.offsetWidth+(a-n.offsetWidth*i)/2,l=(i-1)/2*n.offsetHeight+(s-n.offsetHeight*i)/2;r.afterX=u,r.afterY=l,r.scale=i,this.data.appearEffect=r}else this.data.appear=!0}},{key:"hidePhoto",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"bottom";this.data.hide=!0,this.data.appear=!1,this.data.appearEffect=null,this.data.hideUi=!1,this.data.scale=!1,this.data.scaleSize=1;var n=void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,o=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,r=document.querySelector("body");window.location.hash&&this._setHash(""),window.scroll(n,o),this._doHideEffect(e).then((function(){t.update(),r.style.overflow="",t._fireEvent("close")}))}},{key:"_doHideEffect",value:function(t){var e=this;return new v((function(n){m.isOldIE()&&n();var o=e.data.classNames,r=e._getElementByClass(o.smartPhoto),i=e._getElementByQuery(".current .".concat(o.smartPhotoImg)),a=e._getWindowHeight(),s=function t(){r.removeEventListener("transitionend",t,!0),n()};r.style.opacity=0,"bottom"===t?i.style.transform="translateY(".concat(a,"px)"):"top"===t&&(i.style.transform="translateY(-".concat(a,"px)")),r.addEventListener("transitionend",s,!0)}))}},{key:"_getElementByClass",value:function(t){return document.querySelector('[data-id="'.concat(this.id,'"] .').concat(t))}},{key:"_getElementByQuery",value:function(t){return document.querySelector('[data-id="'.concat(this.id,'"] ').concat(t))}},{key:"_getTouchPos",value:function(){var t=0,e=0,n="undefined"==typeof event?this.e:event;return this._isTouched(n)?(t=n.touches[0].pageX,e=n.touches[0].pageY):n.pageX&&(t=n.pageX,e=n.pageY),{x:t,y:e}}},{key:"_getGesturePos",value:function(t){var e=t.touches;return[{x:e[0].pageX,y:e[0].pageY},{x:e[1].pageX,y:e[1].pageY}]}},{key:"_setPosByCurrentIndex",value:function(){var t=this,e=-1*this.groupItems()[this.data.currentIndex].translateX;this.pos.x=e,setTimeout((function(){t.data.translateX=e,t.data.translateY=0,t._listUpdate()}),1)}},{key:"_setHashByCurrentIndex",value:function(){var t=void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,e=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,n=this.groupItems()[this.data.currentIndex].id,o=this.data.currentGroup,r="group=".concat(o,"&photo=").concat(n);this._setHash(r),window.scroll(t,e)}},{key:"_setHash",value:function(t){window.history&&window.history.pushState&&this.data.useHistoryApi&&(t?window.history.replaceState(null,null,"".concat(location.pathname).concat(location.search,"#").concat(t)):window.history.replaceState(null,null,"".concat(location.pathname).concat(location.search)))}},{key:"_getCurrentItemByHash",value:function(){var t=this.data.group,e=location.hash.substr(1),n=m.parseQuery(e),o=null,r=function(t){n.group===t.groupId&&n.photo===t.id&&(o=t)};return Object.keys(t).forEach((function(e){t[e].forEach(r)})),o}},{key:"_loadItem",value:function(t){return new v((function(e){var n=new Image;n.onload=function(){t.width=n.width,t.height=n.height,t.loaded=!0,e()},n.onerror=function(){e()},n.src=t.src}))}},{key:"_getItemByIndex",value:function(t){var e=this.data;return e.group[e.currentGroup][t]?e.group[e.currentGroup][t]:null}},{key:"_loadNeighborItems",value:function(){for(var t=this,e=this.data.currentIndex,n=this.data.loadOffset,o=e+n,r=[],i=e-n;i<o;i++){var a=this._getItemByIndex(i);a&&!a.loaded&&r.push(this._loadItem(a))}r.length&&v.all(r).then((function(){t._initPhoto(),t.update()}))}},{key:"_setSizeByScreen",value:function(){var t=this._getWindowWidth(),e=this._getWindowHeight(),n=this.data.headerHeight,o=this.data.footerHeight,r=e-(n+o);this.groupItems().forEach((function(n){n.loaded&&(n.processed=!0,n.scale=r/n.height,n.height<r&&(n.scale=1),n.x=(n.scale-1)/2*n.width+(t-n.width*n.scale)/2,n.y=(n.scale-1)/2*n.height+(e-n.height*n.scale)/2,n.width*n.scale>t&&(n.scale=t/n.width,n.x=(n.scale-1)/2*n.width))}))}},{key:"_slideList",value:function(){var t=this;this.data.scaleSize=1,this.isBeingZoomed=!1,this.data.hideUi=!1,this.data.scale=!1,this.data.photoPosX=0,this.data.photoPosY=0,this.data.onMoveClass=!0,this._setPosByCurrentIndex(),this._setHashByCurrentIndex(),this._setSizeByScreen(),setTimeout((function(){var e=t._getSelectedItem();t.data.onMoveClass=!1,t.setArrow(),t.update(),t.data.oldIndex!==t.data.currentIndex&&t._fireEvent("change"),t.data.oldIndex=t.data.currentIndex,t._loadNeighborItems(),e.loaded||t._loadItem(e).then((function(){t._initPhoto(),t.update()}))}),200)}},{key:"gotoSlide",value:function(t){this.e&&this.e.preventDefault&&this.e.preventDefault(),this.data.currentIndex=parseInt(t,10),this.data.currentIndex||(this.data.currentIndex=0),this._slideList()}},{key:"setArrow",value:function(){var t=this.groupItems().length,e=this.data.currentIndex+1,n=this.data.currentIndex-1;this.data.showNextArrow=!1,this.data.showPrevArrow=!1,e!==t&&(this.data.next=e,this.data.showNextArrow=!0),-1!==n&&(this.data.prev=n,this.data.showPrevArrow=!0)}},{key:"beforeDrag",value:function(){if(this._isGestured(this.e))this.beforeGesture();else if(this.isBeingZoomed=!1,this.data.scale)this.beforePhotoDrag();else{var t=this._getTouchPos();this.isSwipable=!0,this.dragStart=!0,this.firstPos=t,this.oldPos=t}}},{key:"afterDrag",value:function(){var t=this.groupItems(),e=(new Date).getTime(),n=this.tapSecond-e,o=0,r=0;if(this.isSwipable=!1,this.onListMove=!1,this.oldPos&&(o=this.oldPos.x-this.firstPos.x,r=this.oldPos.y-this.firstPos.y),this.isBeingZoomed)this.afterGesture();else if(this.data.scale)this.afterPhotoDrag();else if(m.isSmartPhone()||0!==o||0!==r){if(Math.abs(n)<=500&&0===o&&0===r)return this.e.preventDefault(),void this.zoomPhoto();this.tapSecond=e,this._fireEvent("swipeend"),"horizontal"===this.moveDir&&(o>=this.data.swipeOffset&&0!==this.data.currentIndex?this.data.currentIndex-=1:o<=-this.data.swipeOffset&&this.data.currentIndex!==t.length-1&&(this.data.currentIndex+=1),this._slideList()),"vertical"===this.moveDir&&(this.data.swipeBottomToClose&&r>=this.data.swipeOffset?this.hidePhoto("bottom"):this.data.swipeTopToClose&&r<=-this.data.swipeOffset?this.hidePhoto("top"):(this.data.translateY=0,this._slideList()))}else this.zoomPhoto()}},{key:"onDrag",value:function(){if(this.e.preventDefault(),this._isGestured(this.e)&&!1===this.onListMove)this.onGesture();else if(!this.isBeingZoomed)if(this.data.scale)this.onPhotoDrag();else if(this.isSwipable){var t=this._getTouchPos(),e=t.x-this.oldPos.x,n=t.y-this.firstPos.y;this.dragStart&&(this._fireEvent("swipestart"),this.dragStart=!1,Math.abs(e)>Math.abs(n)?this.moveDir="horizontal":this.moveDir="vertical"),"horizontal"===this.moveDir?(this.pos.x+=e,this.data.translateX=this.pos.x):this.data.translateY=n,this.onListMove=!0,this.oldPos=t,this._listUpdate()}}},{key:"zoomPhoto",value:function(){var t=this;this.data.hideUi=!0,this.data.scaleSize=this._getScaleBoarder(),this.data.scaleSize<=1||(this.data.photoPosX=0,this.data.photoPosY=0,this._photoUpdate(),setTimeout((function(){t.data.scale=!0,t._photoUpdate(),t._fireEvent("zoomin")}),300))}},{key:"zoomOutPhoto",value:function(){this.data.scaleSize=1,this.isBeingZoomed=!1,this.data.hideUi=!1,this.data.scale=!1,this.data.photoPosX=0,this.data.photoPosY=0,this._photoUpdate(),this._fireEvent("zoomout")}},{key:"beforePhotoDrag",value:function(){var t=this._getTouchPos();this.photoSwipable=!0,this.data.photoPosX||(this.data.photoPosX=0),this.data.photoPosY||(this.data.photoPosY=0),this.oldPhotoPos=t,this.firstPhotoPos=t}},{key:"onPhotoDrag",value:function(){if(this.photoSwipable){this.e.preventDefault();var t=this._getTouchPos(),e=t.x-this.oldPhotoPos.x,n=t.y-this.oldPhotoPos.y,o=this._round(this.data.scaleSize*e,6),r=this._round(this.data.scaleSize*n,6);"number"==typeof o&&(this.data.photoPosX+=o,this.photoVX=o),"number"==typeof r&&(this.data.photoPosY+=r,this.photoVY=r),this.oldPhotoPos=t,this._photoUpdate()}}},{key:"afterPhotoDrag",value:function(){if(this.oldPhotoPos.x===this.firstPhotoPos.x&&this.photoSwipable)this.photoSwipable=!1,this.zoomOutPhoto();else{this.photoSwipable=!1;var t=this._getSelectedItem(),e=this._makeBound(t),n=this.data.swipeOffset*this.data.scaleSize,o=0,r=0;if(this.data.photoPosX>e.maxX?o=-1:this.data.photoPosX<e.minX&&(o=1),this.data.photoPosY>e.maxY?r=-1:this.data.photoPosY<e.minY&&(r=1),this.data.photoPosX-e.maxX>n&&0!==this.data.currentIndex)return void this.gotoSlide(this.data.prev);if(e.minX-this.data.photoPosX>n&&this.data.currentIndex+1!==this.data.total)return void this.gotoSlide(this.data.next);0===o&&0===r?(this.vx=this.photoVX/5,this.vy=this.photoVY/5):this._registerElasticForce(o,r)}}},{key:"beforeGesture",value:function(){this._fireEvent("gesturestart");var t=this._getGesturePos(this.e),e=this._getDistance(t[0],t[1]);this.isBeingZoomed=!0,this.oldDistance=e,this.data.scale=!0,this.e.preventDefault()}},{key:"onGesture",value:function(){var t=this._getGesturePos(this.e),e=this._getDistance(t[0],t[1]),n=(e-this.oldDistance)/100,o=this.data.scaleSize,r=this.data.photoPosX,i=this.data.photoPosY;this.isBeingZoomed=!0,this.data.scaleSize+=this._round(n,6),this.data.scaleSize<.2&&(this.data.scaleSize=.2),this.data.scaleSize<o&&(this.data.photoPosX=(1+this.data.scaleSize-o)*r,this.data.photoPosY=(1+this.data.scaleSize-o)*i),this.data.scaleSize<1||this.data.scaleSize>this._getScaleBoarder()?this.data.hideUi=!0:this.data.hideUi=!1,this.oldDistance=e,this.e.preventDefault(),this._photoUpdate()}},{key:"afterGesture",value:function(){this.data.scaleSize>this._getScaleBoarder()||(this.data.photoPosX=0,this.data.photoPosY=0,this.data.scale=!1,this.data.scaleSize=1,this.data.hideUi=!1,this._fireEvent("gestureend"),this._photoUpdate())}},{key:"_getForceAndTheta",value:function(t,e){return{force:Math.sqrt(t*t+e*e),theta:Math.atan2(e,t)}}},{key:"_getScaleBoarder",value:function(){var t=this._getSelectedItem(),e=this._getWindowWidth(),n=this._getWindowHeight();return m.isSmartPhone()?t.width>t.height?n/(t.height*t.scale):e/(t.width*t.scale):1/t.scale}},{key:"_makeBound",value:function(t){var e,n,o,r,i=t.width*t.scale*this.data.scaleSize,a=t.height*t.scale*this.data.scaleSize,s=this._getWindowWidth(),c=this._getWindowHeight();return e=s>i?-1*(o=(s-i)/2):-1*(o=(i-s)/2),n=c>a?-1*(r=(c-a)/2):-1*(r=(a-c)/2),{minX:this._round(e,6)*this.data.scaleSize,minY:this._round(n,6)*this.data.scaleSize,maxX:this._round(o,6)*this.data.scaleSize,maxY:this._round(r,6)*this.data.scaleSize}}},{key:"_registerElasticForce",value:function(t,e){var n=this,o=this._getSelectedItem(),r=this._makeBound(o);this.data.elastic=!0,1===t?this.data.photoPosX=r.minX:-1===t&&(this.data.photoPosX=r.maxX),1===e?this.data.photoPosY=r.minY:-1===e&&(this.data.photoPosY=r.maxY),this._photoUpdate(),setTimeout((function(){n.data.elastic=!1,n._photoUpdate()}),300)}},{key:"_getSelectedItem",value:function(){var t=this.data,e=t.currentIndex;return t.group[t.currentGroup][e]}},{key:"_getUniqId",value:function(){return(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase()}},{key:"_getDistance",value:function(t,e){var n=t.x-e.x,o=t.y-e.y;return Math.sqrt(n*n+o*o)}},{key:"_round",value:function(t,e){var n=Math.pow(10,e);return t*=n,t=Math.round(t),t/=n}},{key:"_isTouched",value:function(t){return!(!t||!t.touches)}},{key:"_isGestured",value:function(t){return!!(t&&t.touches&&t.touches.length>1)}},{key:"_isSmartPhone",value:function(){var t=navigator.userAgent;return t.indexOf("iPhone")>0||t.indexOf("iPad")>0||t.indexOf("ipod")>0||t.indexOf("Android")>0}},{key:"_calcGravity",value:function(t,e){(t>5||t<-5)&&(this.vx+=.05*t),!1!==this.data.verticalGravity&&(e>5||e<-5)&&(this.vy+=.05*e)}},{key:"_photoUpdate",value:function(){var t=this.data.classNames,e=this._getElementByQuery(".current").querySelector(".".concat(t.smartPhotoImg)),n=this._getElementByQuery(".".concat(t.smartPhotoNav)),o=this._getElementByQuery(".".concat(t.smartPhotoArrows)),r=this.virtualPos(this.data.photoPosX),i=this.virtualPos(this.data.photoPosY),a=this.data.scaleSize,s="translate(".concat(r,"px,").concat(i,"px) scale(").concat(a,")");e.style.transform=s,this.data.scale?m.addClass(e,t.smartPhotoImgOnMove):m.removeClass(e,t.smartPhotoImgOnMove),this.data.elastic?m.addClass(e,t.smartPhotoImgElasticMove):m.removeClass(e,t.smartPhotoImgElasticMove),this.data.hideUi?(n&&n.setAttribute("aria-hidden","true"),o&&o.setAttribute("aria-hidden","true")):(n&&n.setAttribute("aria-hidden","false"),o&&o.setAttribute("aria-hidden","false"))}},{key:"_getWindowWidth",value:function(){return document&&document.documentElement?document.documentElement.clientWidth:window&&window.innerWidth?window.innerWidth:0}},{key:"_getWindowHeight",value:function(){return document&&document.documentElement?document.documentElement.clientHeight:window&&window.innerHeight?window.innerHeight:0}},{key:"_listUpdate",value:function(){var t=this.data.classNames,e=this._getElementByQuery(".".concat(t.smartPhotoList)),n="translate(".concat(this.data.translateX,"px,").concat(this.data.translateY,"px)");e.style.transform=n,this.data.onMoveClass?m.addClass(e,t.smartPhotoListOnMove):m.removeClass(e,t.smartPhotoListOnMove)}},{key:"_fireEvent",value:function(t){var e=this._getElementByClass(this.data.classNames.smartPhoto);m.triggerEvent(e,t)}},{key:"_doAnim",value:function(){if(!(this.isBeingZoomed||this.isSwipable||this.photoSwipable||this.data.elastic)&&this.data.scale){this.data.photoPosX+=this.vx,this.data.photoPosY+=this.vy;var t=this._getSelectedItem(),e=this._makeBound(t);this.data.photoPosX<e.minX?(this.data.photoPosX=e.minX,this.vx*=-.2):this.data.photoPosX>e.maxX&&(this.data.photoPosX=e.maxX,this.vx*=-.2),this.data.photoPosY<e.minY?(this.data.photoPosY=e.minY,this.vy*=-.2):this.data.photoPosY>e.maxY&&(this.data.photoPosY=e.maxY,this.vy*=-.2);var n=this._getForceAndTheta(this.vx,this.vy),o=n.force,r=n.theta;o-=this.data.registance,Math.abs(o)<.5||(this.vx=Math.cos(r)*o,this.vy=Math.sin(r)*o,this._photoUpdate())}}}]),e}(o.default);n.default=y,e.exports=n.default},{"../lib/util":11,"a-template":1,"custom-event-polyfill":3,"es6-promise-polyfill":4}],10:[function(t,e,n){e.exports=t("./core/")},{"./core/":9}],11:[function(t,e,n){function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.isOldIE=n.getBrowser=n.removeClass=n.addClass=n.append=n.removeElement=n.getViewPos=n.parseQuery=n.triggerEvent=n.extend=n.isSmartPhone=void 0;var r=function(){var t=navigator.userAgent;return t.indexOf("iPhone")>0||t.indexOf("iPad")>0||t.indexOf("ipod")>0||t.indexOf("Android")>0};function i(t){t=t||{};for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var r in n)n.hasOwnProperty(r)&&("object"===o(n[r])?t[r]=i(t[r],n[r]):t[r]=n[r])}return t}n.isSmartPhone=r;var a=i;n.extend=a;var s=function(t,e,n){var o;window.CustomEvent?o=new CustomEvent(e,{cancelable:!0}):(o=document.createEvent("CustomEvent")).initCustomEvent(e,!1,!1,n),t.dispatchEvent(o)};n.triggerEvent=s;var c=function(t){for(var e,n,o,r=t.split("&"),i={},a=0,s=r.length;a<s;a++)void 0!==(e=r[a].split("="))[0]&&(n=e[0],o=void 0!==e[1]?e.slice(1).join("="):n,i[n]=decodeURIComponent(o));return i};n.parseQuery=c;var u=function(t){return{left:t.getBoundingClientRect().left,top:t.getBoundingClientRect().top}};n.getViewPos=u;var l=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)};n.removeElement=l;var d=function(t,e){var n=document.createElement("div");for(n.innerHTML=e;n.children.length>0;)t.appendChild(n.children[0])};n.append=d;var f=function(t,e){t.classList?t.classList.add(e):t.className+=" ".concat(e)};n.addClass=f;var h=function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")};n.removeClass=h;var p=function(){var t=window.navigator.userAgent.toLowerCase(),e=window.navigator.appVersion.toLowerCase(),n="unknown";return-1!=t.indexOf("msie")?n=-1!=e.indexOf("msie 6.")?"ie6":-1!=e.indexOf("msie 7.")?"ie7":-1!=e.indexOf("msie 8.")?"ie8":-1!=e.indexOf("msie 9.")?"ie9":-1!=e.indexOf("msie 10.")?"ie10":"ie":-1!=t.indexOf("trident/7")?n="ie11":-1!=t.indexOf("chrome")?n="chrome":-1!=t.indexOf("safari")?n="safari":-1!=t.indexOf("opera")?n="opera":-1!=t.indexOf("firefox")&&(n="firefox"),n};n.getBrowser=p;var m=function(){var t=p();return-1!==t.indexOf("ie")&&parseInt(t.replace(/[^0-9]/g,""))<=10};n.isOldIE=m},{}]},{},[10])(10)}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{n(872);const t=n(65);window.addEventListener("DOMContentLoaded",(function(){new t(".js-smartPhoto")}))})();