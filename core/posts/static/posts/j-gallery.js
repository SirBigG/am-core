/*! For license information please see j-gallery.js.LICENSE.txt */
var t={65:(t,e,n)=>{var o;t.exports=function(){function t(e,n,o){function i(a,r){if(!n[a]){if(!e[a]){if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,(function(t){return i(e[a][1][t]||t)}),c,c.exports,t,e,n,o)}return n[a].exports}for(var s=void 0,a=0;a<o.length;a++)i(o[a]);return i}return t}()({1:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();t("ie-array-find-polyfill");var i=a(t("morphdom")),s=t("./util");function a(t){return t&&t.__esModule?t:{default:t}}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c="input paste copy click change keydown keyup keypress contextmenu mouseup mousedown mousemove touchstart touchend touchmove compositionstart compositionend focus",d="input change click",h=c.replace(/([a-z]+)/g,"[data-action-$1],")+"[data-action]",u=function(){function t(e){var n=this;l(this,t),this.atemplate=[],this.events=[],e&&Object.keys(e).forEach((function(t){n[t]=e[t]})),this.data||(this.data={}),this.templates||(this.templates=[]);for(var o=0,i=this.templates.length;o<i;o+=1){var a=this.templates[o],r=(0,s.selector)("#"+a).innerHTML;this.atemplate.push({id:a,html:r,binded:!1})}}return o(t,[{key:"addDataBind",value:function(t){var e=this;(0,s.on)(t,"[data-bind]",d,(function(t){var n,o,i=t.delegateTarget,s=i.getAttribute("data-bind"),a=i.getAttribute("href"),r=i.value;a&&(r=r.replace("#","")),"checkbox"===i.getAttribute("type")?(n=[],o=document.querySelectorAll('[data-bind="'+s+'"]'),[].forEach.call(o,(function(t){t.checked&&n.push(t.value)}))):"radio"!==i.getAttribute("type")&&e.updateDataByString(s,r)})),this.events.push({element:t,selector:"[data-bind]",event:d})}},{key:"addActionBind",value:function(t){var e=this;(0,s.on)(t,h,c,(function(t){var n=t.delegateTarget,o=c.split(" "),i="action";o.forEach((function(e){n.getAttribute("data-action-"+e)&&t.type===e&&(i+="-"+e)}));var s=n.getAttribute("data-"+i);if(s){var a,l=s.replace(/\(.*?\);?/,""),d=s.replace(/(.*?)\((.*?)\);?/,"$2").split(",");e.e=t,e.method&&e.method[l]?(a=e.method)[l].apply(a,r(d)):e[l]&&e[l].apply(e,r(d))}})),this.events.push({element:t,selector:h,event:d})}},{key:"removeTemplateEvents",value:function(){this.events.forEach((function(t){(0,s.off)(t.element,t.selector,t.event)}))}},{key:"addTemplate",value:function(t,e){this.atemplate.push({id:t,html:e,binded:!1}),this.templates.push(t)}},{key:"getData",value:function(){return JSON.parse(JSON.stringify(this.data))}},{key:"saveData",value:function(t){var e=JSON.stringify(this.data);localStorage.setItem(t,e)}},{key:"setData",value:function(t){var e=this;Object.keys(t).forEach((function(n){"function"!=typeof t[n]&&(e.data[n]=t[n])}))}},{key:"loadData",value:function(t){var e=JSON.parse(localStorage.getItem(t));e&&this.setData(e)}},{key:"getRand",value:function(t,e){return~~(Math.random()*(e-t+1))+t}},{key:"getRandText",value:function(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=n.length,i=0;i<t;i+=1)e+=n.charAt(Math.floor(this.getRand(0,o)));return e}},{key:"getDataFromObj",value:function(t,e){for(var n=(t=(t=t.replace(/\[([\w\-\.ぁ-んァ-ヶ亜-熙]+)\]/g,".$1")).replace(/^\./,"")).split(".");n.length;){var o=n.shift();if(!(o in e))return null;e=e[o]}return e}},{key:"getDataByString",value:function(t){var e=this.data;return this.getDataFromObj(t,e)}},{key:"updateDataByString",value:function(t,e){for(var n=this.data,o=t.split(".");o.length>1;)n=n[o.shift()];n[o.shift()]=e}},{key:"removeDataByString",value:function(t){for(var e=this.data,n=t.split(".");n.length>1;)e=e[n.shift()];var o=n.shift();o.match(/^\d+$/)?e.splice(Number(o),1):delete e[o]}},{key:"resolveBlock",value:function(t,e,n){var o=this,i=t.match(/<!-- BEGIN ([\w\-\.ぁ-んァ-ヶ亜-熙]+):touch#([\w\-\.ぁ-んァ-ヶ亜-熙]+) -->/g),s=t.match(/<!-- BEGIN ([\w\-\.ぁ-んァ-ヶ亜-熙]+):touchnot#([\w\-\.ぁ-んァ-ヶ亜-熙]+) -->/g),a=t.match(/<!-- BEGIN ([\w\-\.ぁ-んァ-ヶ亜-熙]+):exist -->/g),r=t.match(/<!-- BEGIN ([\w\-\.ぁ-んァ-ヶ亜-熙]+):empty -->/g);if(i)for(var l=0,c=i.length;l<c;l+=1){var d=i[l],h=(d=d.replace(/([\w\-\.ぁ-んァ-ヶ亜-熙]+):touch#([\w\-\.ぁ-んァ-ヶ亜-熙]+)/,"($1):touch#($2)")).replace(/BEGIN/,"END"),u=new RegExp(d+"(([\\n\\r\\t]|.)*?)"+h,"g");t=t.replace(u,(function(t,n,i,s){return""+("function"==typeof e[n]?e[n].apply(o):o.getDataFromObj(n,e))===i?s:""}))}if(s)for(var f=0,p=s.length;f<p;f+=1){var m=s[f],g=(m=m.replace(/([\w\-\.ぁ-んァ-ヶ亜-熙]+):touchnot#([\w\-\.ぁ-んァ-ヶ亜-熙]+)/,"($1):touchnot#($2)")).replace(/BEGIN/,"END"),v=new RegExp(m+"(([\\n\\r\\t]|.)*?)"+g,"g");t=t.replace(v,(function(t,n,i,s){return""+("function"==typeof e[n]?e[n].apply(o):o.getDataFromObj(n,e))!==i?s:""}))}if(a)for(var y=0,w=a.length;y<w;y+=1){var x=a[y],b=(x=x.replace(/([\w\-\.ぁ-んァ-ヶ亜-熙]+):exist/,"($1):exist")).replace(/BEGIN/,"END"),E=new RegExp(x+"(([\\n\\r\\t]|.)*?)"+b,"g");t=t.replace(E,(function(t,n,i){var s="function"==typeof e[n]?e[n].apply(o):o.getDataFromObj(n,e);return s||0===s?i:""}))}if(r)for(var P=0,N=r.length;P<N;P+=1){var I=r[P],_=(I=I.replace(/([\w\-\.ぁ-んァ-ヶ亜-熙]+):empty/,"($1):empty")).replace(/BEGIN/,"END"),T=new RegExp(I+"(([\\n\\r\\t]|.)*?)"+_,"g");t=t.replace(T,(function(t,n,i){var s="function"==typeof e[n]?e[n].apply(o):o.getDataFromObj(n,e);return s||0===s?"":i}))}return t=t.replace(/{([\w\-\.ぁ-んァ-ヶ亜-熙]+)}(\[([\w\-\.ぁ-んァ-ヶ亜-熙]+)\])*/g,(function(t,i,s,a){var r=void 0;if(""+i=="i")r=n;else{if(!e[i]&&0!==e[i])return a&&o.convert&&o.convert[a]?o.convert[a].call(o,""):"";r="function"==typeof e[i]?e[i].apply(o):e[i]}return a&&o.convert&&o.convert[a]?o.convert[a].call(o,r):r}))}},{key:"resolveAbsBlock",value:function(t){var e=this;return t=t.replace(/{(.*?)}/g,(function(t,n){var o=e.getDataByString(n);return void 0!==o?"function"==typeof o?o.apply(e):o:t}))}},{key:"resolveInclude",value:function(t){var e=/<!-- #include id="(.*?)" -->/g;return t=t.replace(e,(function(t,e){return(0,s.selector)("#"+e).innerHTML}))}},{key:"resolveWith",value:function(t){var e=/<!-- BEGIN ([\w\-\.ぁ-んァ-ヶ亜-熙]+):with -->(([\n\r\t]|.)*?)<!-- END ([\w\-\.ぁ-んァ-ヶ亜-熙]+):with -->/g;return t=t.replace(e,(function(t,e){return t=t.replace(/data\-bind=['"](.*?)['"]/g,"data-bind='"+e+".$1'")}))}},{key:"resolveLoop",value:function(t){var e=/<!-- BEGIN ([\w\-\.ぁ-んァ-ヶ亜-熙]+?):loop -->(([\n\r\t]|.)*?)<!-- END ([\w\-\.ぁ-んァ-ヶ亜-熙]+?):loop -->/g,n=this;return t=t.replace(e,(function(t,e,o){var i=n.getDataByString(e),s=[],a="";if((s="function"==typeof i?i.apply(n):i)instanceof Array)for(var r=0,l=s.length;r<l;r+=1)a+=n.resolveBlock(o,s[r],r);return a=a.replace(/\\([^\\])/g,"$1")}))}},{key:"removeData",value:function(t){var e=this.data;return Object.keys(e).forEach((function(n){for(var o=0,i=t.length;o<i;o+=1)n===t[o]&&delete e[n]})),this}},{key:"hasLoop",value:function(t){var e=/<!-- BEGIN ([\w\-\.ぁ-んァ-ヶ亜-熙]+?):loop -->(([\n\r\t]|.)*?)<!-- END ([\w\-\.ぁ-んァ-ヶ亜-熙]+?):loop -->/g;return!!t.match(e)}},{key:"getHtml",value:function(t,e){var n=this.atemplate.find((function(e){return e.id===t})),o="";if(n&&n.html&&(o=n.html),e&&(o=t),!o)return"";var i=this.data;for(o=this.resolveInclude(o),o=this.resolveWith(o);this.hasLoop(o);)o=this.resolveLoop(o);return o=(o=this.resolveBlock(o,i)).replace(/\\([^\\])/g,"$1"),(o=this.resolveAbsBlock(o)).replace(/^([\t ])*\n/gm,"")}},{key:"update",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"html",n=arguments[1],o=this.templates;this.beforeUpdated&&this.beforeUpdated();for(var a=function(a,r){var l=o[a],c="#"+l,d=t.getHtml(l),h=(0,s.selector)("[data-id='"+l+"']");if(h)if("text"===e)h.innerText=d;else if(n){var u=document.createElement("div");u.innerHTML=d;var f=u.querySelector(n).outerHTML;(0,i.default)(h.querySelector(n),f)}else(0,i.default)(h,"<div data-id='"+l+"'>"+d+"</div>");else(0,s.selector)(c).insertAdjacentHTML("afterend",'<div data-id="'+l+'"></div>'),"text"===e?(0,s.selector)("[data-id='"+l+"']").innerText=d:(0,s.selector)("[data-id='"+l+"']").innerHTML=d;var p=t.atemplate.find((function(t){return t.id===l}));p.binded||(p.binded=!0,t.addDataBind((0,s.selector)("[data-id='"+l+"']")),t.addActionBind((0,s.selector)("[data-id='"+l+"']")))},r=0,l=o.length;r<l;r+=1)a(r,l);return this.updateBindingData(n),this.onUpdated&&this.onUpdated(n),this}},{key:"updateBindingData",value:function(t){for(var e=this,n=this.templates,o=0,i=n.length;o<i;o+=1){var a=n[o],r=(0,s.selector)("[data-id='"+a+"']");t&&(r=r.querySelector(t));var l=r.querySelectorAll("[data-bind]");[].forEach.call(l,(function(t){var n=e.getDataByString(t.getAttribute("data-bind"));"checkbox"===t.getAttribute("type")||"radio"===t.getAttribute("type")?n===t.value&&(t.checked=!0):t.value=n}));var c=r.querySelectorAll("[data-bind-oneway]");[].forEach.call(c,(function(t){var n=e.getDataByString(t.getAttribute("data-bind-oneway"));"checkbox"===t.getAttribute("type")||"radio"===t.getAttribute("type")?n===t.value&&(t.checked=!0):t.value=n}))}return this}},{key:"applyMethod",value:function(t){for(var e,n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return(e=this.method)[t].apply(e,o)}},{key:"getComputedProp",value:function(t){return this.data[t].apply(this)}},{key:"remove",value:function(t){for(var e=this.data,n=t.split(".");n.length>1;)e=e[n.shift()];var o=n.shift();return o.match(/^\d+$/)?e.splice(Number(o),1):delete e[o],this}}]),t}();n.default=u,e.exports=n.default},{"./util":2,"ie-array-find-polyfill":5,morphdom:6}],2:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var o=n.matches=function(t,e){for(var n=(t.document||t.ownerDocument).querySelectorAll(e),o=n.length;--o>=0&&n.item(o)!==t;);return o>-1},i=(n.selector=function(t){return document.querySelector(t)},n.findAncestor=function(t,e){if("function"==typeof t.closest)return t.closest(e)||null;for(;t&&t!==document;){if(o(t,e))return t;t=t.parentElement}return null}),s=[];n.on=function(t,e,n,o){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n.split(" ").forEach((function(n){var r=function(t){var n=i(t.target,e);n&&(t.delegateTarget=n,o(t))};s.push({listener:r,element:t,query:e,event:n,capture:a}),t.addEventListener(n,r,a)}))},n.off=function(t,e,n){n.split(" ").forEach((function(n){s.forEach((function(o,i){o.element===t&&o.query===e&&o.event===n&&(t.removeEventListener(n,o.listener,o.capture),s.splice(i,1))}))}))}},{}],3:[function(t,e,n){try{var o=new window.CustomEvent("test");if(o.preventDefault(),!0!==o.defaultPrevented)throw new Error("Could not prevent default")}catch(t){var i=function(t,e){var n,o;return e=e||{bubbles:!1,cancelable:!1,detail:void 0},(n=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),o=n.preventDefault,n.preventDefault=function(){o.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(t){this.defaultPrevented=!0}},n};i.prototype=window.Event.prototype,window.CustomEvent=i}},{}],4:[function(t,e,i){(function(t,e){!function(t){var n=t.Promise,s=n&&"resolve"in n&&"reject"in n&&"all"in n&&"race"in n&&function(){var t;return new n((function(e){t=e})),"function"==typeof t}();void 0!==i&&i?(i.Promise=s?n:_,i.Polyfill=_):"function"==typeof o&&o.amd?o((function(){return s?n:_})):s||(t.Promise=_);var a="pending",r="sealed",l="fulfilled",c="rejected",d=function(){};function h(t){return"[object Array]"===Object.prototype.toString.call(t)}var u,f=void 0!==e?e:setTimeout,p=[];function m(){for(var t=0;t<p.length;t++)p[t][0](p[t][1]);p=[],u=!1}function g(t,e){p.push([t,e]),u||(u=!0,f(m,0))}function v(t,e){function n(t){x(e,t)}function o(t){E(e,t)}try{t(n,o)}catch(t){o(t)}}function y(t){var e=t.owner,n=e.state_,o=e.data_,i=t[n],s=t.then;if("function"==typeof i){n=l;try{o=i(o)}catch(t){E(s,t)}}w(s,o)||(n===l&&x(s,o),n===c&&E(s,o))}function w(t,e){var n;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"==typeof e)){var o=e.then;if("function"==typeof o)return o.call(e,(function(o){n||(n=!0,e!==o?x(t,o):b(t,o))}),(function(e){n||(n=!0,E(t,e))})),!0}}catch(e){return n||E(t,e),!0}return!1}function x(t,e){t!==e&&w(t,e)||b(t,e)}function b(t,e){t.state_===a&&(t.state_=r,t.data_=e,g(N,t))}function E(t,e){t.state_===a&&(t.state_=r,t.data_=e,g(I,t))}function P(t){var e=t.then_;t.then_=void 0;for(var n=0;n<e.length;n++)y(e[n])}function N(t){t.state_=l,P(t)}function I(t){t.state_=c,P(t)}function _(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof _==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],v(t,this)}_.prototype={constructor:_,state_:a,then_:null,data_:void 0,then:function(t,e){var n={owner:this,then:new this.constructor(d),fulfilled:t,rejected:e};return this.state_===l||this.state_===c?g(y,n):this.then_.push(n),n.then},catch:function(t){return this.then(null,t)}},_.all=function(t){var e=this;if(!h(t))throw new TypeError("You must pass an array to Promise.all().");return new e((function(e,n){var o=[],i=0;function s(t){return i++,function(n){o[t]=n,--i||e(o)}}for(var a,r=0;r<t.length;r++)(a=t[r])&&"function"==typeof a.then?a.then(s(r),n):o[r]=a;i||e(o)}))},_.race=function(t){var e=this;if(!h(t))throw new TypeError("You must pass an array to Promise.race().");return new e((function(e,n){for(var o,i=0;i<t.length;i++)(o=t[i])&&"function"==typeof o.then?o.then(e,n):e(o)}))},_.resolve=function(t){var e=this;return t&&"object"==typeof t&&t.constructor===e?t:new e((function(e){e(t)}))},_.reject=function(t){return new this((function(e,n){n(t)}))}}("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("timers").setImmediate)},{timers:8}],5:[function(t,e,n){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError("this is null or not defined");var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var o=arguments[1],i=0;i<n;){var s=e[i];if(t.call(o,s,i,e))return s;i++}}})},{}],6:[function(t,e,n){var o,i=11;function s(t,e){var n,o,s,a,r=e.attributes;if(e.nodeType!==i&&t.nodeType!==i){for(var l=r.length-1;l>=0;l--)o=(n=r[l]).name,s=n.namespaceURI,a=n.value,s?(o=n.localName||o,t.getAttributeNS(s,o)!==a&&("xmlns"===n.prefix&&(o=n.name),t.setAttributeNS(s,o,a))):t.getAttribute(o)!==a&&t.setAttribute(o,a);for(var c=t.attributes,d=c.length-1;d>=0;d--)o=(n=c[d]).name,(s=n.namespaceURI)?(o=n.localName||o,e.hasAttributeNS(s,o)||t.removeAttributeNS(s,o)):e.hasAttribute(o)||t.removeAttribute(o)}}var a="http://www.w3.org/1999/xhtml",r="undefined"==typeof document?void 0:document,l=!!r&&"content"in r.createElement("template"),c=!!r&&r.createRange&&"createContextualFragment"in r.createRange();function d(t){var e=r.createElement("template");return e.innerHTML=t,e.content.childNodes[0]}function h(t){return o||(o=r.createRange()).selectNode(r.body),o.createContextualFragment(t).childNodes[0]}function u(t){var e=r.createElement("body");return e.innerHTML=t,e.childNodes[0]}function f(t){return t=t.trim(),l?d(t):c?h(t):u(t)}function p(t,e){var n=t.nodeName,o=e.nodeName;return n===o||!!(e.actualize&&n.charCodeAt(0)<91&&o.charCodeAt(0)>90)&&n===o.toUpperCase()}function m(t,e){return e&&e!==a?r.createElementNS(e,t):r.createElement(t)}function g(t,e){for(var n=t.firstChild;n;){var o=n.nextSibling;e.appendChild(n),n=o}return e}function v(t,e,n){t[n]!==e[n]&&(t[n]=e[n],t[n]?t.setAttribute(n,""):t.removeAttribute(n))}var y={OPTION:function(t,e){var n=t.parentNode;if(n){var o=n.nodeName.toUpperCase();"OPTGROUP"===o&&(o=(n=n.parentNode)&&n.nodeName.toUpperCase()),"SELECT"!==o||n.hasAttribute("multiple")||(t.hasAttribute("selected")&&!e.selected&&(t.setAttribute("selected","selected"),t.removeAttribute("selected")),n.selectedIndex=-1)}v(t,e,"selected")},INPUT:function(t,e){v(t,e,"checked"),v(t,e,"disabled"),t.value!==e.value&&(t.value=e.value),e.hasAttribute("value")||t.removeAttribute("value")},TEXTAREA:function(t,e){var n=e.value;t.value!==n&&(t.value=n);var o=t.firstChild;if(o){var i=o.nodeValue;if(i==n||!n&&i==t.placeholder)return;o.nodeValue=n}},SELECT:function(t,e){if(!e.hasAttribute("multiple")){for(var n,o,i=-1,s=0,a=t.firstChild;a;)if("OPTGROUP"===(o=a.nodeName&&a.nodeName.toUpperCase()))a=(n=a).firstChild;else{if("OPTION"===o){if(a.hasAttribute("selected")){i=s;break}s++}!(a=a.nextSibling)&&n&&(a=n.nextSibling,n=null)}t.selectedIndex=i}}},w=1,x=11,b=3,E=8;function P(){}function N(t){if(t)return t.getAttribute&&t.getAttribute("id")||t.id}function I(t){return function(e,n,o){if(o||(o={}),"string"==typeof n)if("#document"===e.nodeName||"HTML"===e.nodeName){var i=n;(n=r.createElement("html")).innerHTML=i}else n=f(n);var s=o.getNodeKey||N,a=o.onBeforeNodeAdded||P,l=o.onNodeAdded||P,c=o.onBeforeElUpdated||P,d=o.onElUpdated||P,h=o.onBeforeNodeDiscarded||P,u=o.onNodeDiscarded||P,v=o.onBeforeElChildrenUpdated||P,I=!0===o.childrenOnly,_=Object.create(null),T=[];function S(t){T.push(t)}function A(t,e){if(t.nodeType===w)for(var n=t.firstChild;n;){var o=void 0;e&&(o=s(n))?S(o):(u(n),n.firstChild&&A(n,e)),n=n.nextSibling}}function $(t,e,n){!1!==h(t)&&(e&&e.removeChild(t),u(t),A(t,n))}function k(t){if(t.nodeType===w||t.nodeType===x)for(var e=t.firstChild;e;){var n=s(e);n&&(_[n]=e),k(e),e=e.nextSibling}}function D(t){l(t);for(var e=t.firstChild;e;){var n=e.nextSibling,o=s(e);if(o){var i=_[o];i&&p(e,i)&&(e.parentNode.replaceChild(i,e),C(i,e))}D(e),e=n}}function B(t,e,n){for(;e;){var o=e.nextSibling;(n=s(e))?S(n):$(e,t,!0),e=o}}function C(e,n,o){var i=s(n);if(i&&delete _[i],!o){if(!1===c(e,n))return;if(t(e,n),d(e),!1===v(e,n))return}"TEXTAREA"!==e.nodeName?O(e,n):y.TEXTAREA(e,n)}function O(t,e){var n,o,i,l,c,d=e.firstChild,h=t.firstChild;t:for(;d;){for(l=d.nextSibling,n=s(d);h;){if(i=h.nextSibling,d.isSameNode&&d.isSameNode(h)){d=l,h=i;continue t}o=s(h);var u=h.nodeType,f=void 0;if(u===d.nodeType&&(u===w?(n?n!==o&&((c=_[n])?i===c?f=!1:(t.insertBefore(c,h),o?S(o):$(h,t,!0),h=c):f=!1):o&&(f=!1),(f=!1!==f&&p(h,d))&&C(h,d)):u!==b&&u!=E||(f=!0,h.nodeValue!==d.nodeValue&&(h.nodeValue=d.nodeValue))),f){d=l,h=i;continue t}o?S(o):$(h,t,!0),h=i}if(n&&(c=_[n])&&p(c,d))t.appendChild(c),C(c,d);else{var m=a(d);!1!==m&&(m&&(d=m),d.actualize&&(d=d.actualize(t.ownerDocument||r)),t.appendChild(d),D(d))}d=l,h=i}B(t,h,o);var g=y[t.nodeName];g&&g(t,e)}k(e);var H=e,L=H.nodeType,M=n.nodeType;if(!I)if(L===w)M===w?p(e,n)||(u(e),H=g(e,m(n.nodeName,n.namespaceURI))):H=n;else if(L===b||L===E){if(M===L)return H.nodeValue!==n.nodeValue&&(H.nodeValue=n.nodeValue),H;H=n}if(H===n)u(e);else{if(n.isSameNode&&n.isSameNode(H))return;if(C(H,n,I),T)for(var z=0,G=T.length;z<G;z++){var X=_[T[z]];X&&$(X,X.parentNode,!1)}}return!I&&H!==e&&e.parentNode&&(H.actualize&&(H=H.actualize(e.ownerDocument||r)),e.parentNode.replaceChild(H,e)),H}}var _=I(s);e.exports=_},{}],7:[function(t,e,n){var o,i,s=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function l(t){if(o===setTimeout)return setTimeout(t,0);if((o===a||!o)&&setTimeout)return o=setTimeout,setTimeout(t,0);try{return o(t,0)}catch(e){try{return o.call(null,t,0)}catch(e){return o.call(this,t,0)}}}function c(t){if(i===clearTimeout)return clearTimeout(t);if((i===r||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{return i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:a}catch(t){o=a}try{i="function"==typeof clearTimeout?clearTimeout:r}catch(t){i=r}}();var d,h=[],u=!1,f=-1;function p(){u&&d&&(u=!1,d.length?h=d.concat(h):f=-1,h.length&&m())}function m(){if(!u){var t=l(p);u=!0;for(var e=h.length;e;){for(d=h,h=[];++f<e;)d&&d[f].run();f=-1,e=h.length}d=null,u=!1,c(t)}}function g(t,e){this.fun=t,this.array=e}function v(){}s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new g(t,e)),1!==h.length||u||l(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=v,s.addListener=v,s.once=v,s.off=v,s.removeListener=v,s.removeAllListeners=v,s.emit=v,s.prependListener=v,s.prependOnceListener=v,s.listeners=function(t){return[]},s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],8:[function(t,e,n){(function(e,o){var i=t("process/browser.js").nextTick,s=Function.prototype.apply,a=Array.prototype.slice,r={},l=0;function c(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new c(s.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(s.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n.setImmediate="function"==typeof e?e:function(t){var e=l++,o=!(arguments.length<2)&&a.call(arguments,1);return r[e]=!0,i((function(){r[e]&&(o?t.apply(null,o):t.call(null),n.clearImmediate(e))})),e},n.clearImmediate="function"==typeof o?o:function(t){delete r[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":7,timers:8}],9:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("a-template"));function i(t){return t&&t.__esModule?t:{default:t}}function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function c(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}t("custom-event-polyfill");var p='<div class="\\{classNames.smartPhoto\\}"\x3c!-- BEGIN hide:exist --\x3e aria-hidden="true"\x3c!-- END hide:exist --\x3e\x3c!-- BEGIN hide:empty --\x3e aria-hidden="false"\x3c!-- END hide:empty --\x3e role="dialog">\n\t<div class="\\{classNames.smartPhotoBody\\}">\n\t\t<div class="\\{classNames.smartPhotoInner\\}">\n\t\t\t   <div class="\\{classNames.smartPhotoHeader\\}">\n\t\t\t\t\t<span class="\\{classNames.smartPhotoCount\\}">{currentIndex}[increment]/{total}</span>\n\t\t\t\t\t<span class="\\{classNames.smartPhotoCaption\\}" aria-live="polite" tabindex="-1">\x3c!-- BEGIN groupItems:loop --\x3e\x3c!-- \\BEGIN currentIndex:touch#{index} --\x3e{caption}\x3c!-- \\END currentIndex:touch#{index} --\x3e\x3c!-- END groupItems:loop --\x3e</span>\n\t\t\t\t\t<button class="\\{classNames.smartPhotoDismiss\\}" data-action-click="hidePhoto()"><span class="smartphoto-sr-only">\\{message.closeDialog\\}</span></button>\n\t\t\t\t</div>\n\t\t\t\t<div class="\\{classNames.smartPhotoContent\\}"\x3c!-- BEGIN isSmartPhone:exist --\x3e data-action-touchstart="beforeDrag" data-action-touchmove="onDrag" data-action-touchend="afterDrag(false)"\x3c!-- END isSmartPhone:exist --\x3e\x3c!-- BEGIN isSmartPhone:empty --\x3e data-action-click="hidePhoto()"\x3c!-- END isSmartPhone:empty --\x3e>\n\t\t\t\t</div>\n\t\t\t\t<ul style="transform:translate({translateX}[round]px,{translateY}[round]px);" class="\\{classNames.smartPhotoList\\}\x3c!-- BEGIN onMoveClass:exist --\x3e \\{classNames.smartPhotoListOnMove\\}\x3c!-- END onMoveClass:exist --\x3e">\n\t\t\t\t\t\x3c!-- BEGIN groupItems:loop --\x3e\n\t\t\t\t\t<li style="transform:translate({translateX}[round]px,{translateY}[round]px);" class="\x3c!-- \\BEGIN currentIndex:touch#{index} --\x3ecurrent\x3c!-- \\END currentIndex:touch#{index} --\x3e">\n\t\t\t\t\t\t\x3c!-- BEGIN processed:exist --\x3e\n\t\t\t\t\t\t<div style="transform:translate({x}[round]px,{y}[round]px) scale({scale});" class="\\\\{classNames.smartPhotoImgWrap\\\\}"\x3c!-- \\BEGIN isSmartPhone:empty --\x3e data-action-mousemove="onDrag" data-action-mousedown="beforeDrag" data-action-mouseup="afterDrag"\x3c!-- \\END isSmartPhone:empty --\x3e\x3c!-- \\BEGIN isSmartPhone:exist --\x3e data-action-touchstart="beforeDrag" data-action-touchmove="onDrag" data-action-touchend="afterDrag"\x3c!-- \\END isSmartPhone:exist --\x3e>\n\t\t\t\t\t\t\t<img style="\x3c!-- \\BEGIN currentIndex:touch#{index} --\x3etransform:translate(\\{photoPosX\\}[virtualPos]px,\\{photoPosY\\}[virtualPos]px) scale(\\{scaleSize\\});\x3c!-- \\END currentIndex:touch#{index} --\x3ewidth:{width}px;" src="{src}" class="\\\\{classNames.smartPhotoImg\\\\}\x3c!-- \\BEGIN scale:exist --\x3e  \\\\{classNames.smartPhotoImgOnMove\\\\}\x3c!-- \\END scale:exist --\x3e\x3c!-- \\BEGIN elastic:exist --\x3e \\\\{classNames.smartPhotoImgElasticMove\\\\}\x3c!-- \\END elastic:exist --\x3e\x3c!-- \\BEGIN appear:exist --\x3e active\x3c!-- \\END appear:exist --\x3e" ondragstart="return false;">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\x3c!-- END processed:exist --\x3e\n\t\t\t\t\t\t\x3c!-- BEGIN processed:empty --\x3e\n\t\t\t\t\t\t<div class="\\\\{classNames.smartPhotoLoaderWrap\\\\}">\n\t\t\t\t\t\t\t<span class="\\\\{classNames.smartPhotoLoader\\\\}"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\x3c!-- END processed:empty --\x3e\n\t\t\t\t\t</li>\n\t\t\t\t\t\x3c!-- END groupItems:loop --\x3e\n\t\t\t\t</ul>\n\t\t\t\t\x3c!-- BEGIN arrows:exist --\x3e\n\t\t\t\t<ul class="\\{classNames.smartPhotoArrows\\}"\x3c!-- BEGIN hideUi:exist --\x3e aria-hidden="true"\x3c!-- END hideUi:exist --\x3e\x3c!-- BEGIN hideUi:exist --\x3e aria-hidden="false"\x3c!-- END hideUi:exist --\x3e>\n\t\t\t\t\t<li class="\\{classNames.smartPhotoArrowLeft\\}\x3c!-- BEGIN isSmartPhone:exist --\x3e \\{classNames.smartPhotoArrowHideIcon\\}\x3c!-- END isSmartPhone:exist --\x3e"\x3c!-- BEGIN showPrevArrow:empty --\x3e aria-hidden="true"\x3c!-- END showPrevArrow:empty --\x3e><a href="#" data-action-click="gotoSlide({prev})" role="button"><span class="smartphoto-sr-only">\\{message.gotoPrevImage\\}</span></a></li>\n\t\t\t\t\t<li class="\\{classNames.smartPhotoArrowRight\\}\x3c!-- BEGIN isSmartPhone:exist --\x3e \\{classNames.smartPhotoArrowHideIcon\\}\x3c!-- END isSmartPhone:exist --\x3e"\x3c!-- BEGIN showNextArrow:empty --\x3e aria-hidden="true"\x3c!-- END showNextArrow:empty --\x3e><a href="#" data-action-click="gotoSlide({next})" role="button"><span class="smartphoto-sr-only">\\{message.gotoNextImage\\}</span></a></li>\n\t\t\t\t</ul>\n\t\t\t\t\x3c!-- END arrows:exist --\x3e\n\t\t\t\t\x3c!-- BEGIN nav:exist --\x3e\n\t\t\t\t<nav class="\\{classNames.smartPhotoNav\\}"\x3c!-- BEGIN hideUi:exist --\x3e aria-hidden="true"\x3c!-- END hideUi:exist --\x3e\x3c!-- BEGIN hideUi:exist --\x3e aria-hidden="false"\x3c!-- END hideUi:exist --\x3e>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t\x3c!-- BEGIN groupItems:loop --\x3e\n\t\t\t\t\t\t<li><a href="#" data-action-click="gotoSlide({index})" class="\x3c!-- \\BEGIN currentIndex:touch#{index} --\x3ecurrent\x3c!-- \\END currentIndex:touch#{index} --\x3e" style="background-image:url({thumb});" role="button"><span class="smartphoto-sr-only">go to {caption}</span></a></li>\n\t\t\t\t\t\t\x3c!-- END groupItems:loop --\x3e\n\t\t\t\t\t</ul>\n\t\t\t\t</nav>\n\t\t\t\t\x3c!-- END nav:exist --\x3e\n\t\t</div>\n\t\t\x3c!-- BEGIN appearEffect:exist --\x3e\n\t\t<img src=\\{appearEffect.img\\}\n\t\tclass="\\{classNames.smartPhotoImgClone\\}"\n\t\tstyle="width:\\{appearEffect.width\\}px;height:\\{appearEffect.height\\}px;transform:translate(\\{appearEffect.left\\}px,\\{appearEffect.top\\}px) scale(1)" />\n\t\t\x3c!-- END appearEffect:exist --\x3e\n\t</div>\n</div>\n',m=t("../lib/util"),g=t("es6-promise-polyfill").Promise,v={classNames:{smartPhoto:"smartphoto",smartPhotoClose:"smartphoto-close",smartPhotoBody:"smartphoto-body",smartPhotoInner:"smartphoto-inner",smartPhotoContent:"smartphoto-content",smartPhotoImg:"smartphoto-img",smartPhotoImgOnMove:"smartphoto-img-onmove",smartPhotoImgElasticMove:"smartphoto-img-elasticmove",smartPhotoImgWrap:"smartphoto-img-wrap",smartPhotoArrows:"smartphoto-arrows",smartPhotoNav:"smartphoto-nav",smartPhotoArrowRight:"smartphoto-arrow-right",smartPhotoArrowLeft:"smartphoto-arrow-left",smartPhotoArrowHideIcon:"smartphoto-arrow-hide",smartPhotoImgLeft:"smartphoto-img-left",smartPhotoImgRight:"smartphoto-img-right",smartPhotoList:"smartphoto-list",smartPhotoListOnMove:"smartphoto-list-onmove",smartPhotoHeader:"smartphoto-header",smartPhotoCount:"smartphoto-count",smartPhotoCaption:"smartphoto-caption",smartPhotoDismiss:"smartphoto-dismiss",smartPhotoLoader:"smartphoto-loader",smartPhotoLoaderWrap:"smartphoto-loader-wrap",smartPhotoImgClone:"smartphoto-img-clone"},message:{gotoNextImage:"go to the next image",gotoPrevImage:"go to the previous image",closeDialog:"close the image dialog"},arrows:!0,nav:!0,showAnimation:!0,verticalGravity:!1,useOrientationApi:!1,useHistoryApi:!0,swipeTopToClose:!1,swipeBottomToClose:!0,swipeOffset:100,headerHeight:60,footerHeight:60,forceInterval:10,registance:.5,loadOffset:2,resizeStyle:"fit",lazyAttribute:"data-src"},y=function(t){function e(t,n){var o;a(this,e),(o=c(this,h(e).call(this))).data=m.extend({},v,n),o.data.currentIndex=0,o.data.oldIndex=0,o.data.hide=!0,o.data.group={},o.data.scaleSize=1,o.data.scale=!1,o.pos={x:0,y:0},o.data.photoPosX=0,o.data.photoPosY=0,o.handlers=[],o.convert={increment:o.increment,virtualPos:o.virtualPos,round:o.round},o.data.groupItems=o.groupItems,o.elements="string"==typeof t?document.querySelectorAll(t):t;var i=new Date;o.tapSecond=i.getTime(),o.onListMove=!1,o.clicked=!1,o.id=o._getUniqId(),o.vx=0,o.vy=0,o.data.appearEffect=null,o.addTemplate(o.id,p),o.data.isSmartPhone=o._isSmartPhone();var s=document.querySelector("body");m.append(s,"<div data-id='".concat(o.id,"'></div>")),[].forEach.call(o.elements,(function(t){o.addNewItem(t)})),o.update();var r=o._getCurrentItemByHash();if(r&&m.triggerEvent(r.element,"click"),o.interval=setInterval((function(){o._doAnim()}),o.data.forceInterval),!o.data.isSmartPhone){var l=function(){o.groupItems()&&(o._resetTranslate(),o._setPosByCurrentIndex(),o._setSizeByScreen(),o.update())},d=function(t){var e=t.keyCode||t.which;!0!==o.data.hide&&(37===e?o.gotoSlide(o.data.prev):39===e?o.gotoSlide(o.data.next):27===e&&o.hidePhoto())};return window.addEventListener("resize",l),window.addEventListener("keydown",d),o._registerRemoveEvent(window,"resize",l),o._registerRemoveEvent(window,"keydown",d),c(o)}var u=function(){if(o.groupItems()){o._resetTranslate(),o._setPosByCurrentIndex(),o._setHashByCurrentIndex(),o._setSizeByScreen(),o.update();var t=o._getWindowWidth(),e=500;!function n(i){new g((function(t){setTimeout((function(){t()}),25)})).then((function(){t!==o._getWindowWidth()?(o._resetTranslate(),o._setPosByCurrentIndex(),o._setHashByCurrentIndex(),o._setSizeByScreen(),o.update()):i<=e&&n(i+25)}))}(0)}};if(window.addEventListener("orientationchange",u),o._registerRemoveEvent(window,"orientationchange",u),!o.data.useOrientationApi)return c(o);var f=function(t){var e=window.orientation;t&&t.gamma&&!o.data.appearEffect&&(o.isBeingZoomed||o.photoSwipable||o.data.elastic||!o.data.scale||(0===e?o._calcGravity(t.gamma,t.beta):90===e?o._calcGravity(t.beta,t.gamma):-90===e?o._calcGravity(-t.beta,-t.gamma):180===e&&o._calcGravity(-t.gamma,-t.beta)))};return window.addEventListener("deviceorientation",f),o._registerRemoveEvent(window,"deviceorientation",f),o}return u(e,t),l(e,[{key:"on",value:function(t,e){var n=this._getElementByClass(this.data.classNames.smartPhoto),o=function(t){e.call(n,t)};n.addEventListener(t,o),this._registerRemoveEvent(n,t,o)}},{key:"_registerRemoveEvent",value:function(t,e,n){this.handlers.push({target:t,event:e,handler:n})}},{key:"destroy",value:function(){this.handlers.forEach((function(t){t.target.removeEventListener(t.event,t.handler)}));var t=document.querySelector('[data-id="'.concat(this.id,'"]'));m.removeElement(t),clearInterval(this.interval),this.removeTemplateEvents()}},{key:"increment",value:function(t){return t+1}},{key:"round",value:function(t){return Math.round(t)}},{key:"virtualPos",value:function(t){return(t=parseInt(t,10))/this._getSelectedItem().scale/this.data.scaleSize}},{key:"groupItems",value:function(){return this.data.group[this.data.currentGroup]}},{key:"_resetTranslate",value:function(){var t=this;this.groupItems().forEach((function(e,n){e.translateX=t._getWindowWidth()*n}))}},{key:"addNewItem",value:function(t){var e=this,n=t.getAttribute("data-group")||"nogroup",o=this.data.group;"nogroup"===n&&t.setAttribute("data-group","nogroup"),o[n]||(o[n]=[]);var i=o[n].length,s=document.querySelector("body"),a=t.getAttribute("href"),r=t.querySelector("img"),l=a;r&&(l=r.getAttribute(this.data.lazyAttribute)?r.getAttribute(this.data.lazyAttribute):r.currentSrc?r.currentSrc:r.src);var c={src:a,thumb:l,caption:t.getAttribute("data-caption"),groupId:n,translateX:this._getWindowWidth()*i,index:i,translateY:0,width:50,height:50,id:t.getAttribute("data-id")||i,loaded:!1,processed:!1,element:t};o[n].push(c),this.data.currentGroup=n,t.getAttribute("data-id")||t.setAttribute("data-id",i),t.setAttribute("data-index",i);var d=function(n){n.preventDefault(),e.data.currentGroup=t.getAttribute("data-group"),e.data.currentIndex=parseInt(t.getAttribute("data-index"),10),e._setHashByCurrentIndex();var o=e._getSelectedItem();o.loaded?(e._initPhoto(),e.addAppearEffect(t,o),e.clicked=!0,e.update(),s.style.overflow="hidden",e._fireEvent("open")):e._loadItem(o).then((function(){e._initPhoto(),e.addAppearEffect(t,o),e.clicked=!0,e.update(),s.style.overflow="hidden",e._fireEvent("open")}))};t.addEventListener("click",d),this._registerRemoveEvent(t,"click",d)}},{key:"_initPhoto",value:function(){this.data.total=this.groupItems().length,this.data.hide=!1,this.data.photoPosX=0,this.data.photoPosY=0,this._setPosByCurrentIndex(),this._setSizeByScreen(),this.setArrow(),"fill"===this.data.resizeStyle&&this.data.isSmartPhone&&(this.data.scale=!0,this.data.hideUi=!0,this.data.scaleSize=this._getScaleBoarder())}},{key:"onUpdated",value:function(){var t=this;if(this.data.appearEffect&&this.data.appearEffect.once&&(this.data.appearEffect.once=!1,this.execEffect().then((function(){t.data.appearEffect=null,t.data.appear=!0,t.update()}))),this.clicked){this.clicked=!1;var e=this.data.classNames;this._getElementByClass(e.smartPhotoCaption).focus()}}},{key:"execEffect",value:function(){var t=this;return new g((function(e){m.isOldIE()&&e();var n=t.data,o=n.appearEffect,i=n.classNames,s=t._getElementByClass(i.smartPhotoImgClone),a=function t(){s.removeEventListener("transitionend",t,!0),e()};s.addEventListener("transitionend",a,!0),setTimeout((function(){s.style.transform="translate(".concat(o.afterX,"px, ").concat(o.afterY,"px) scale(").concat(o.scale,")")}),10)}))}},{key:"addAppearEffect",value:function(t,e){if(!1!==this.data.showAnimation){var n=t.querySelector("img"),o=m.getViewPos(n),i={},s=1;i.width=n.offsetWidth,i.height=n.offsetHeight,i.top=o.top,i.left=o.left,i.once=!0,n.getAttribute(this.data.lazyAttribute)?i.img=n.getAttribute(this.data.lazyAttribute):i.img=e.src;var a=this._getWindowWidth(),r=this._getWindowHeight(),l=r-this.data.headerHeight-this.data.footerHeight;"fill"===this.data.resizeStyle&&this.data.isSmartPhone?s=n.offsetWidth>n.offsetHeight?r/n.offsetHeight:a/n.offsetWidth:(i.width>=i.height?s=e.height<l?e.width/i.width:l/i.height:i.height>i.width&&(s=e.height<l?e.height/i.height:l/i.height),i.width*s>a&&(s=a/i.width));var c=(s-1)/2*n.offsetWidth+(a-n.offsetWidth*s)/2,d=(s-1)/2*n.offsetHeight+(r-n.offsetHeight*s)/2;i.afterX=c,i.afterY=d,i.scale=s,this.data.appearEffect=i}else this.data.appear=!0}},{key:"hidePhoto",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"bottom";this.data.hide=!0,this.data.appear=!1,this.data.appearEffect=null,this.data.hideUi=!1,this.data.scale=!1,this.data.scaleSize=1;var n=void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,o=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,i=document.querySelector("body");window.location.hash&&this._setHash(""),window.scroll(n,o),this._doHideEffect(e).then((function(){t.update(),i.style.overflow="",t._fireEvent("close")}))}},{key:"_doHideEffect",value:function(t){var e=this;return new g((function(n){m.isOldIE()&&n();var o=e.data.classNames,i=e._getElementByClass(o.smartPhoto),s=e._getElementByQuery(".current .".concat(o.smartPhotoImg)),a=e._getWindowHeight(),r=function t(){i.removeEventListener("transitionend",t,!0),n()};i.style.opacity=0,"bottom"===t?s.style.transform="translateY(".concat(a,"px)"):"top"===t&&(s.style.transform="translateY(-".concat(a,"px)")),i.addEventListener("transitionend",r,!0)}))}},{key:"_getElementByClass",value:function(t){return document.querySelector('[data-id="'.concat(this.id,'"] .').concat(t))}},{key:"_getElementByQuery",value:function(t){return document.querySelector('[data-id="'.concat(this.id,'"] ').concat(t))}},{key:"_getTouchPos",value:function(){var t=0,e=0,n="undefined"==typeof event?this.e:event;return this._isTouched(n)?(t=n.touches[0].pageX,e=n.touches[0].pageY):n.pageX&&(t=n.pageX,e=n.pageY),{x:t,y:e}}},{key:"_getGesturePos",value:function(t){var e=t.touches;return[{x:e[0].pageX,y:e[0].pageY},{x:e[1].pageX,y:e[1].pageY}]}},{key:"_setPosByCurrentIndex",value:function(){var t=this,e=-1*this.groupItems()[this.data.currentIndex].translateX;this.pos.x=e,setTimeout((function(){t.data.translateX=e,t.data.translateY=0,t._listUpdate()}),1)}},{key:"_setHashByCurrentIndex",value:function(){var t=void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,e=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,n=this.groupItems()[this.data.currentIndex].id,o=this.data.currentGroup,i="group=".concat(o,"&photo=").concat(n);this._setHash(i),window.scroll(t,e)}},{key:"_setHash",value:function(t){window.history&&window.history.pushState&&this.data.useHistoryApi&&(t?window.history.replaceState(null,null,"".concat(location.pathname).concat(location.search,"#").concat(t)):window.history.replaceState(null,null,"".concat(location.pathname).concat(location.search)))}},{key:"_getCurrentItemByHash",value:function(){var t=this.data.group,e=location.hash.substr(1),n=m.parseQuery(e),o=null,i=function(t){n.group===t.groupId&&n.photo===t.id&&(o=t)};return Object.keys(t).forEach((function(e){t[e].forEach(i)})),o}},{key:"_loadItem",value:function(t){return new g((function(e){var n=new Image;n.onload=function(){t.width=n.width,t.height=n.height,t.loaded=!0,e()},n.onerror=function(){e()},n.src=t.src}))}},{key:"_getItemByIndex",value:function(t){var e=this.data;return e.group[e.currentGroup][t]?e.group[e.currentGroup][t]:null}},{key:"_loadNeighborItems",value:function(){for(var t=this,e=this.data.currentIndex,n=this.data.loadOffset,o=e+n,i=[],s=e-n;s<o;s++){var a=this._getItemByIndex(s);a&&!a.loaded&&i.push(this._loadItem(a))}i.length&&g.all(i).then((function(){t._initPhoto(),t.update()}))}},{key:"_setSizeByScreen",value:function(){var t=this._getWindowWidth(),e=this._getWindowHeight(),n=this.data.headerHeight,o=this.data.footerHeight,i=e-(n+o);this.groupItems().forEach((function(n){n.loaded&&(n.processed=!0,n.scale=i/n.height,n.height<i&&(n.scale=1),n.x=(n.scale-1)/2*n.width+(t-n.width*n.scale)/2,n.y=(n.scale-1)/2*n.height+(e-n.height*n.scale)/2,n.width*n.scale>t&&(n.scale=t/n.width,n.x=(n.scale-1)/2*n.width))}))}},{key:"_slideList",value:function(){var t=this;this.data.scaleSize=1,this.isBeingZoomed=!1,this.data.hideUi=!1,this.data.scale=!1,this.data.photoPosX=0,this.data.photoPosY=0,this.data.onMoveClass=!0,this._setPosByCurrentIndex(),this._setHashByCurrentIndex(),this._setSizeByScreen(),setTimeout((function(){var e=t._getSelectedItem();t.data.onMoveClass=!1,t.setArrow(),t.update(),t.data.oldIndex!==t.data.currentIndex&&t._fireEvent("change"),t.data.oldIndex=t.data.currentIndex,t._loadNeighborItems(),e.loaded||t._loadItem(e).then((function(){t._initPhoto(),t.update()}))}),200)}},{key:"gotoSlide",value:function(t){this.e&&this.e.preventDefault&&this.e.preventDefault(),this.data.currentIndex=parseInt(t,10),this.data.currentIndex||(this.data.currentIndex=0),this._slideList()}},{key:"setArrow",value:function(){var t=this.groupItems().length,e=this.data.currentIndex+1,n=this.data.currentIndex-1;this.data.showNextArrow=!1,this.data.showPrevArrow=!1,e!==t&&(this.data.next=e,this.data.showNextArrow=!0),-1!==n&&(this.data.prev=n,this.data.showPrevArrow=!0)}},{key:"beforeDrag",value:function(){if(this._isGestured(this.e))this.beforeGesture();else if(this.isBeingZoomed=!1,this.data.scale)this.beforePhotoDrag();else{var t=this._getTouchPos();this.isSwipable=!0,this.dragStart=!0,this.firstPos=t,this.oldPos=t}}},{key:"afterDrag",value:function(){var t=this.groupItems(),e=(new Date).getTime(),n=this.tapSecond-e,o=0,i=0;if(this.isSwipable=!1,this.onListMove=!1,this.oldPos&&(o=this.oldPos.x-this.firstPos.x,i=this.oldPos.y-this.firstPos.y),this.isBeingZoomed)this.afterGesture();else if(this.data.scale)this.afterPhotoDrag();else if(m.isSmartPhone()||0!==o||0!==i){if(Math.abs(n)<=500&&0===o&&0===i)return this.e.preventDefault(),void this.zoomPhoto();this.tapSecond=e,this._fireEvent("swipeend"),"horizontal"===this.moveDir&&(o>=this.data.swipeOffset&&0!==this.data.currentIndex?this.data.currentIndex-=1:o<=-this.data.swipeOffset&&this.data.currentIndex!==t.length-1&&(this.data.currentIndex+=1),this._slideList()),"vertical"===this.moveDir&&(this.data.swipeBottomToClose&&i>=this.data.swipeOffset?this.hidePhoto("bottom"):this.data.swipeTopToClose&&i<=-this.data.swipeOffset?this.hidePhoto("top"):(this.data.translateY=0,this._slideList()))}else this.zoomPhoto()}},{key:"onDrag",value:function(){if(this.e.preventDefault(),this._isGestured(this.e)&&!1===this.onListMove)this.onGesture();else if(!this.isBeingZoomed)if(this.data.scale)this.onPhotoDrag();else if(this.isSwipable){var t=this._getTouchPos(),e=t.x-this.oldPos.x,n=t.y-this.firstPos.y;this.dragStart&&(this._fireEvent("swipestart"),this.dragStart=!1,Math.abs(e)>Math.abs(n)?this.moveDir="horizontal":this.moveDir="vertical"),"horizontal"===this.moveDir?(this.pos.x+=e,this.data.translateX=this.pos.x):this.data.translateY=n,this.onListMove=!0,this.oldPos=t,this._listUpdate()}}},{key:"zoomPhoto",value:function(){var t=this;this.data.hideUi=!0,this.data.scaleSize=this._getScaleBoarder(),this.data.scaleSize<=1||(this.data.photoPosX=0,this.data.photoPosY=0,this._photoUpdate(),setTimeout((function(){t.data.scale=!0,t._photoUpdate(),t._fireEvent("zoomin")}),300))}},{key:"zoomOutPhoto",value:function(){this.data.scaleSize=1,this.isBeingZoomed=!1,this.data.hideUi=!1,this.data.scale=!1,this.data.photoPosX=0,this.data.photoPosY=0,this._photoUpdate(),this._fireEvent("zoomout")}},{key:"beforePhotoDrag",value:function(){var t=this._getTouchPos();this.photoSwipable=!0,this.data.photoPosX||(this.data.photoPosX=0),this.data.photoPosY||(this.data.photoPosY=0),this.oldPhotoPos=t,this.firstPhotoPos=t}},{key:"onPhotoDrag",value:function(){if(this.photoSwipable){this.e.preventDefault();var t=this._getTouchPos(),e=t.x-this.oldPhotoPos.x,n=t.y-this.oldPhotoPos.y,o=this._round(this.data.scaleSize*e,6),i=this._round(this.data.scaleSize*n,6);"number"==typeof o&&(this.data.photoPosX+=o,this.photoVX=o),"number"==typeof i&&(this.data.photoPosY+=i,this.photoVY=i),this.oldPhotoPos=t,this._photoUpdate()}}},{key:"afterPhotoDrag",value:function(){if(this.oldPhotoPos.x===this.firstPhotoPos.x&&this.photoSwipable)this.photoSwipable=!1,this.zoomOutPhoto();else{this.photoSwipable=!1;var t=this._getSelectedItem(),e=this._makeBound(t),n=this.data.swipeOffset*this.data.scaleSize,o=0,i=0;if(this.data.photoPosX>e.maxX?o=-1:this.data.photoPosX<e.minX&&(o=1),this.data.photoPosY>e.maxY?i=-1:this.data.photoPosY<e.minY&&(i=1),this.data.photoPosX-e.maxX>n&&0!==this.data.currentIndex)return void this.gotoSlide(this.data.prev);if(e.minX-this.data.photoPosX>n&&this.data.currentIndex+1!==this.data.total)return void this.gotoSlide(this.data.next);0===o&&0===i?(this.vx=this.photoVX/5,this.vy=this.photoVY/5):this._registerElasticForce(o,i)}}},{key:"beforeGesture",value:function(){this._fireEvent("gesturestart");var t=this._getGesturePos(this.e),e=this._getDistance(t[0],t[1]);this.isBeingZoomed=!0,this.oldDistance=e,this.data.scale=!0,this.e.preventDefault()}},{key:"onGesture",value:function(){var t=this._getGesturePos(this.e),e=this._getDistance(t[0],t[1]),n=(e-this.oldDistance)/100,o=this.data.scaleSize,i=this.data.photoPosX,s=this.data.photoPosY;this.isBeingZoomed=!0,this.data.scaleSize+=this._round(n,6),this.data.scaleSize<.2&&(this.data.scaleSize=.2),this.data.scaleSize<o&&(this.data.photoPosX=(1+this.data.scaleSize-o)*i,this.data.photoPosY=(1+this.data.scaleSize-o)*s),this.data.scaleSize<1||this.data.scaleSize>this._getScaleBoarder()?this.data.hideUi=!0:this.data.hideUi=!1,this.oldDistance=e,this.e.preventDefault(),this._photoUpdate()}},{key:"afterGesture",value:function(){this.data.scaleSize>this._getScaleBoarder()||(this.data.photoPosX=0,this.data.photoPosY=0,this.data.scale=!1,this.data.scaleSize=1,this.data.hideUi=!1,this._fireEvent("gestureend"),this._photoUpdate())}},{key:"_getForceAndTheta",value:function(t,e){return{force:Math.sqrt(t*t+e*e),theta:Math.atan2(e,t)}}},{key:"_getScaleBoarder",value:function(){var t=this._getSelectedItem(),e=this._getWindowWidth(),n=this._getWindowHeight();return m.isSmartPhone()?t.width>t.height?n/(t.height*t.scale):e/(t.width*t.scale):1/t.scale}},{key:"_makeBound",value:function(t){var e,n,o,i,s=t.width*t.scale*this.data.scaleSize,a=t.height*t.scale*this.data.scaleSize,r=this._getWindowWidth(),l=this._getWindowHeight();return e=r>s?-1*(o=(r-s)/2):-1*(o=(s-r)/2),n=l>a?-1*(i=(l-a)/2):-1*(i=(a-l)/2),{minX:this._round(e,6)*this.data.scaleSize,minY:this._round(n,6)*this.data.scaleSize,maxX:this._round(o,6)*this.data.scaleSize,maxY:this._round(i,6)*this.data.scaleSize}}},{key:"_registerElasticForce",value:function(t,e){var n=this,o=this._getSelectedItem(),i=this._makeBound(o);this.data.elastic=!0,1===t?this.data.photoPosX=i.minX:-1===t&&(this.data.photoPosX=i.maxX),1===e?this.data.photoPosY=i.minY:-1===e&&(this.data.photoPosY=i.maxY),this._photoUpdate(),setTimeout((function(){n.data.elastic=!1,n._photoUpdate()}),300)}},{key:"_getSelectedItem",value:function(){var t=this.data,e=t.currentIndex;return t.group[t.currentGroup][e]}},{key:"_getUniqId",value:function(){return(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase()}},{key:"_getDistance",value:function(t,e){var n=t.x-e.x,o=t.y-e.y;return Math.sqrt(n*n+o*o)}},{key:"_round",value:function(t,e){var n=Math.pow(10,e);return t*=n,t=Math.round(t),t/=n}},{key:"_isTouched",value:function(t){return!(!t||!t.touches)}},{key:"_isGestured",value:function(t){return!!(t&&t.touches&&t.touches.length>1)}},{key:"_isSmartPhone",value:function(){var t=navigator.userAgent;return t.indexOf("iPhone")>0||t.indexOf("iPad")>0||t.indexOf("ipod")>0||t.indexOf("Android")>0}},{key:"_calcGravity",value:function(t,e){(t>5||t<-5)&&(this.vx+=.05*t),!1!==this.data.verticalGravity&&(e>5||e<-5)&&(this.vy+=.05*e)}},{key:"_photoUpdate",value:function(){var t=this.data.classNames,e=this._getElementByQuery(".current").querySelector(".".concat(t.smartPhotoImg)),n=this._getElementByQuery(".".concat(t.smartPhotoNav)),o=this._getElementByQuery(".".concat(t.smartPhotoArrows)),i=this.virtualPos(this.data.photoPosX),s=this.virtualPos(this.data.photoPosY),a=this.data.scaleSize,r="translate(".concat(i,"px,").concat(s,"px) scale(").concat(a,")");e.style.transform=r,this.data.scale?m.addClass(e,t.smartPhotoImgOnMove):m.removeClass(e,t.smartPhotoImgOnMove),this.data.elastic?m.addClass(e,t.smartPhotoImgElasticMove):m.removeClass(e,t.smartPhotoImgElasticMove),this.data.hideUi?(n&&n.setAttribute("aria-hidden","true"),o&&o.setAttribute("aria-hidden","true")):(n&&n.setAttribute("aria-hidden","false"),o&&o.setAttribute("aria-hidden","false"))}},{key:"_getWindowWidth",value:function(){return document&&document.documentElement?document.documentElement.clientWidth:window&&window.innerWidth?window.innerWidth:0}},{key:"_getWindowHeight",value:function(){return document&&document.documentElement?document.documentElement.clientHeight:window&&window.innerHeight?window.innerHeight:0}},{key:"_listUpdate",value:function(){var t=this.data.classNames,e=this._getElementByQuery(".".concat(t.smartPhotoList)),n="translate(".concat(this.data.translateX,"px,").concat(this.data.translateY,"px)");e.style.transform=n,this.data.onMoveClass?m.addClass(e,t.smartPhotoListOnMove):m.removeClass(e,t.smartPhotoListOnMove)}},{key:"_fireEvent",value:function(t){var e=this._getElementByClass(this.data.classNames.smartPhoto);m.triggerEvent(e,t)}},{key:"_doAnim",value:function(){if(!(this.isBeingZoomed||this.isSwipable||this.photoSwipable||this.data.elastic)&&this.data.scale){this.data.photoPosX+=this.vx,this.data.photoPosY+=this.vy;var t=this._getSelectedItem(),e=this._makeBound(t);this.data.photoPosX<e.minX?(this.data.photoPosX=e.minX,this.vx*=-.2):this.data.photoPosX>e.maxX&&(this.data.photoPosX=e.maxX,this.vx*=-.2),this.data.photoPosY<e.minY?(this.data.photoPosY=e.minY,this.vy*=-.2):this.data.photoPosY>e.maxY&&(this.data.photoPosY=e.maxY,this.vy*=-.2);var n=this._getForceAndTheta(this.vx,this.vy),o=n.force,i=n.theta;o-=this.data.registance,Math.abs(o)<.5||(this.vx=Math.cos(i)*o,this.vy=Math.sin(i)*o,this._photoUpdate())}}}]),e}(o.default);n.default=y,e.exports=n.default},{"../lib/util":11,"a-template":1,"custom-event-polyfill":3,"es6-promise-polyfill":4}],10:[function(t,e,n){e.exports=t("./core/")},{"./core/":9}],11:[function(t,e,n){function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.isOldIE=n.getBrowser=n.removeClass=n.addClass=n.append=n.removeElement=n.getViewPos=n.parseQuery=n.triggerEvent=n.extend=n.isSmartPhone=void 0;var i=function(){var t=navigator.userAgent;return t.indexOf("iPhone")>0||t.indexOf("iPad")>0||t.indexOf("ipod")>0||t.indexOf("Android")>0};function s(t){t=t||{};for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var i in n)n.hasOwnProperty(i)&&("object"===o(n[i])?t[i]=s(t[i],n[i]):t[i]=n[i])}return t}n.isSmartPhone=i;var a=s;n.extend=a;var r=function(t,e,n){var o;window.CustomEvent?o=new CustomEvent(e,{cancelable:!0}):(o=document.createEvent("CustomEvent")).initCustomEvent(e,!1,!1,n),t.dispatchEvent(o)};n.triggerEvent=r;var l=function(t){for(var e,n,o,i=t.split("&"),s={},a=0,r=i.length;a<r;a++)void 0!==(e=i[a].split("="))[0]&&(n=e[0],o=void 0!==e[1]?e.slice(1).join("="):n,s[n]=decodeURIComponent(o));return s};n.parseQuery=l;var c=function(t){return{left:t.getBoundingClientRect().left,top:t.getBoundingClientRect().top}};n.getViewPos=c;var d=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)};n.removeElement=d;var h=function(t,e){var n=document.createElement("div");for(n.innerHTML=e;n.children.length>0;)t.appendChild(n.children[0])};n.append=h;var u=function(t,e){t.classList?t.classList.add(e):t.className+=" ".concat(e)};n.addClass=u;var f=function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")};n.removeClass=f;var p=function(){var t=window.navigator.userAgent.toLowerCase(),e=window.navigator.appVersion.toLowerCase(),n="unknown";return-1!=t.indexOf("msie")?n=-1!=e.indexOf("msie 6.")?"ie6":-1!=e.indexOf("msie 7.")?"ie7":-1!=e.indexOf("msie 8.")?"ie8":-1!=e.indexOf("msie 9.")?"ie9":-1!=e.indexOf("msie 10.")?"ie10":"ie":-1!=t.indexOf("trident/7")?n="ie11":-1!=t.indexOf("chrome")?n="chrome":-1!=t.indexOf("safari")?n="safari":-1!=t.indexOf("opera")?n="opera":-1!=t.indexOf("firefox")&&(n="firefox"),n};n.getBrowser=p;var m=function(){var t=p();return-1!==t.indexOf("ie")&&parseInt(t.replace(/[^0-9]/g,""))<=10};n.isOldIE=m},{}]},{},[10])(10)}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var s=e[o]={exports:{}};return t[o](s,s.exports,n),s.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var t=Object.defineProperty,e=(e,n,o)=>(((e,n,o)=>{n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o})(e,"symbol"!=typeof n?n+"":n,o),o);const o={},i=t=>{const{type:e,currentTarget:n}=t;[...o[e]].forEach((([o,i])=>{n===o&&[...i].forEach((([n,i])=>{n.apply(o,[t]),"object"==typeof i&&i.once&&a(o,e,n,i)}))}))},s=(t,e,n,s)=>{o[e]||(o[e]=new Map);const a=o[e];a.has(t)||a.set(t,new Map);const r=a.get(t),{size:l}=r;r.set(n,s),l||t.addEventListener(e,i,s)},a=(t,e,n,s)=>{const a=o[e],r=a&&a.get(t),l=r&&r.get(n),c=void 0!==l?l:s;r&&r.has(n)&&r.delete(n),a&&(!r||!r.size)&&a.delete(t),(!a||!a.size)&&delete o[e],(!r||!r.size)&&t.removeEventListener(e,i,c)},r=s,l=a,c=(Symbol.toStringTag,"aria-describedby"),d="aria-expanded",h="aria-hidden",u="aria-modal",f="aria-pressed",p="aria-selected",m="focus",g="focusin",v="focusout",y="keydown",w="click",x="mousedown",b="mouseenter",E="mouseleave",P="resize",N="scroll",I="touchstart",_="ArrowDown",T="ArrowUp",S="ArrowLeft",A="ArrowRight",$="Escape",k="transitionend",D="transitionProperty",B=navigator.userAgentData,{userAgent:C}=navigator,O=C,H=/iPhone|iPad|iPod|Android/i;B?B.brands.some((t=>H.test(t.brand))):H.test(O);const L=/(iPhone|iPod|iPad)/,M=B?B.brands.some((t=>L.test(t.brand))):L.test(O);O&&O.includes("Firefox");const{head:z}=document;["webkitPerspective","perspective"].some((t=>t in z.style));const G=()=>{};(()=>{let t=!1;try{const e=Object.defineProperty({},"passive",{get:()=>(t=!0,t)});((t,e,n,o)=>{const i=s=>{(s.target===t||s.currentTarget===t)&&(n.apply(t,[s]),((t,e,n,o)=>{const i=o||!1;t.removeEventListener(e,n,i)})(t,e,i,o))};((t,e,n,o)=>{const i=o||!1;t.addEventListener(e,n,i)})(t,e,i,o)})(document,"DOMContentLoaded",G,e)}catch{}})(),["webkitTransform","transform"].some((t=>t in z.style)),["webkitAnimation","animation"].some((t=>t in z.style)),["webkitTransition","transition"].some((t=>t in z.style));const X=(t,e)=>t.getAttribute(e),Y=(t,e)=>t.hasAttribute(e),U=(t,e,n)=>t.setAttribute(e,n),j=(t,e)=>t.removeAttribute(e),W=(t,...e)=>{t.classList.add(...e)},R=(t,...e)=>{t.classList.remove(...e)},F=(t,e)=>t.classList.contains(e),q=t=>null!=t&&"object"==typeof t||!1,V=t=>q(t)&&"number"==typeof t.nodeType&&[1,2,3,4,5,6,7,8,9,10,11].some((e=>t.nodeType===e))||!1,Z=t=>V(t)&&1===t.nodeType||!1,Q=new Map,J={data:Q,set:(t,e,n)=>{Z(t)&&(Q.has(e)||Q.set(e,new Map),Q.get(e).set(t,n))},getAllFor:t=>Q.get(t)||null,get:(t,e)=>{if(!Z(t)||!e)return null;const n=J.getAllFor(e);return t&&n&&n.get(t)||null},remove:(t,e)=>{const n=J.getAllFor(e);!n||!Z(t)||(n.delete(t),0===n.size&&Q.delete(e))}},K=(t,e)=>J.get(t,e),tt=t=>"string"==typeof t||!1,et=t=>q(t)&&"Window"===t.constructor.name||!1,nt=t=>V(t)&&9===t.nodeType||!1,ot=t=>et(t)?t.document:nt(t)?t:V(t)?t.ownerDocument:window.document,it=(t,...e)=>Object.assign(t,...e),st=t=>{if(!t)return;if(tt(t))return ot().createElement(t);const{tagName:e}=t,n=st(e);if(!n)return;const o={...t};return delete o.tagName,it(n,o)},at=(t,e)=>t.dispatchEvent(e),rt=(t,e)=>{const n=getComputedStyle(t),o=e.replace("webkit","Webkit").replace(/([A-Z])/g,"-$1").toLowerCase();return n.getPropertyValue(o)},lt=t=>{const e=rt(t,D),n=rt(t,"transitionDuration"),o=n.includes("ms")?1:1e3,i=e&&"none"!==e?parseFloat(n)*o:0;return Number.isNaN(i)?0:i},ct=(t,e)=>{let n=0;const o=new Event(k),i=lt(t),s=(t=>{const e=rt(t,D),n=rt(t,"transitionDelay"),o=n.includes("ms")?1:1e3,i=e&&"none"!==e?parseFloat(n)*o:0;return Number.isNaN(i)?0:i})(t);if(i){const a=o=>{o.target===t&&(e.apply(t,[o]),t.removeEventListener(k,a),n=1)};t.addEventListener(k,a),setTimeout((()=>{n||at(t,o)}),i+s+17)}else e.apply(t,[o])},dt=(t,e)=>t.focus(e),ht=t=>!!["true",!0].includes(t)||!["false",!1].includes(t)&&(["null","",null,void 0].includes(t)?null:""===t||Number.isNaN(+t)?t:+t),ut=t=>Object.entries(t),ft=t=>t.toLowerCase(),pt=t=>Object.keys(t),mt=(t,e)=>{const n=new CustomEvent(t,{cancelable:!0,bubbles:!0});return q(e)&&it(n,e),n},gt={passive:!0},vt=t=>t.offsetHeight,yt=(t,e)=>{ut(e).forEach((([e,n])=>{if(n&&tt(e)&&e.includes("--"))t.style.setProperty(e,n);else{const o={};o[e]=n,it(t.style,o)}}))},wt=t=>q(t)&&"Map"===t.constructor.name||!1,xt=new Map,bt=(t,e,n,o)=>{Z(t)&&(o&&o.length?(xt.has(t)||xt.set(t,new Map),xt.get(t).set(o,setTimeout(e,n))):xt.set(t,setTimeout(e,n)))},Et=(t,e)=>{if(!Z(t))return null;const n=xt.get(t);return e&&n&&wt(n)?n.get(e)||null:(t=>"number"==typeof t||!1)(n)?n:null},Pt=(t,e)=>{if(!Z(t))return;const n=xt.get(t);e&&e.length&&wt(n)?(clearTimeout(n.get(e)),n.delete(e),0===n.size&&xt.delete(t)):(clearTimeout(n),xt.delete(t))},Nt=(t,e)=>{const{width:n,height:o,top:i,right:s,bottom:a,left:r}=t.getBoundingClientRect();let l=1,c=1;if(e&&Z(t)){const{offsetWidth:e,offsetHeight:i}=t;l=e>0?Math.round(n)/e:1,c=i>0?Math.round(o)/i:1}return{width:n/l,height:o/c,top:i/c,right:s/l,bottom:a/c,left:r/l,x:r/l,y:i/c}},It=t=>ot(t).body,_t=t=>ot(t).documentElement,Tt=t=>V(t)&&"ShadowRoot"===t.constructor.name||!1,St=t=>"HTML"===t.nodeName?t:Z(t)&&t.assignedSlot||V(t)&&t.parentNode||Tt(t)&&t.host||_t(t);let At=0,$t=0;const kt=new Map,Dt=(t,e)=>{let n=e?At:$t;if(e){const o=Dt(t),i=kt.get(o)||new Map;kt.has(o)||kt.set(o,i),wt(i)&&!i.has(e)?(i.set(e,n),At+=1):n=i.get(e)}else{const e=t.id||t;kt.has(e)?n=kt.get(e):(kt.set(e,n),$t+=1)}return n},Bt=t=>{var e;return t?nt(t)?t.defaultView:V(t)?null==(e=null==t?void 0:t.ownerDocument)?void 0:e.defaultView:t:window},Ct=t=>{if(!V(t))return!1;const{top:e,bottom:n}=Nt(t),{clientHeight:o}=_t(t);return e<=o&&n>=0},Ot=t=>"rtl"===_t(t).dir,Ht=t=>V(t)&&["TABLE","TD","TH"].includes(t.nodeName)||!1,Lt=(t,e)=>t?t.closest(e)||Lt(t.getRootNode().host,e):null,Mt=(t,e)=>Z(t)?t:(V(e)?e:ot()).querySelector(t),zt=(t,e)=>(V(e)?e:ot()).getElementsByTagName(t),Gt=(t,e)=>(V(e)?e:ot()).querySelectorAll(t),Xt=(t,e)=>(e&&V(e)?e:ot()).getElementsByClassName(t),Yt=(t,e)=>t.matches(e),Ut="fade",jt="show",Wt="data-bs-dismiss",Rt="alert",Ft="Alert";class qt{constructor(t,e){const n=Mt(t);if(!n)throw tt(t)?Error(`${this.name} Error: "${t}" is not a valid selector.`):Error(`${this.name} Error: your target is not an instance of HTMLElement.`);const o=J.get(n,this.name);o&&o.dispose(),this.element=n,this.options=this.defaults&&pt(this.defaults).length?((t,e,n,o)=>{const i={...n},s={...t.dataset},a={...e},r={},l="title";return ut(s).forEach((([t,e])=>{const n=o&&"string"==typeof t&&t.includes(o)?t.replace(o,"").replace(/[A-Z]/g,(t=>ft(t))):t;r[n]=ht(e)})),ut(i).forEach((([t,e])=>{i[t]=ht(e)})),ut(e).forEach((([e,n])=>{a[e]=e in i?i[e]:e in r?r[e]:e===l?X(t,l):n})),a})(n,this.defaults,e||{},"bs"):{},J.set(n,this.name,this)}get version(){return"5.0.6"}get name(){return"BaseComponent"}get defaults(){return{}}dispose(){J.remove(this.element,this.name),pt(this).forEach((t=>{delete this[t]}))}}const Vt=`.${Rt}`,Zt=`[${Wt}="${Rt}"]`,Qt=mt(`close.bs.${Rt}`),Jt=mt(`closed.bs.${Rt}`),Kt=t=>{const{element:e}=t;te(t),at(e,Jt),t.dispose(),e.remove()},te=(t,e)=>{const n=e?s:a,{dismiss:o,close:i}=t;o&&n(o,w,i)};class ee extends qt{constructor(t){super(t),e(this,"dismiss"),e(this,"close",(()=>{const{element:t}=this;t&&F(t,jt)&&(at(t,Qt),Qt.defaultPrevented||(R(t,jt),F(t,Ut)?ct(t,(()=>Kt(this))):Kt(this)))})),this.dismiss=Mt(Zt,this.element),te(this,!0)}get name(){return Ft}dispose(){te(this),super.dispose()}}e(ee,"selector",Vt),e(ee,"init",(t=>new ee(t))),e(ee,"getInstance",(t=>K(t,Ft)));const ne="active",oe="data-bs-toggle",ie="Button",se=`[${oe}="button"]`,ae=(t,e)=>{(e?s:a)(t.element,w,t.toggle)};class re extends qt{constructor(t){super(t),e(this,"isActive",!1),e(this,"toggle",(t=>{t&&t.preventDefault();const{element:e,isActive:n}=this;!F(e,"disabled")&&!X(e,"disabled")&&((n?R:W)(e,ne),U(e,f,n?"false":"true"),this.isActive=F(e,ne))}));const{element:n}=this;this.isActive=F(n,ne),U(n,f,String(!!this.isActive)),ae(this,!0)}get name(){return ie}dispose(){ae(this),super.dispose()}}e(re,"selector",se),e(re,"init",(t=>new re(t))),e(re,"getInstance",(t=>K(t,ie)));const le="data-bs-target",ce="carousel",de="Carousel",he="data-bs-parent",ue=t=>{const e=[le,he,"data-bs-container","href"],n=ot(t);return e.map((e=>{const o=X(t,e);return o?e===he?Lt(t,o):Mt(o,n):null})).filter((t=>t))[0]},fe=`[data-bs-ride="${ce}"]`,pe=`${ce}-item`,me="data-bs-slide-to",ge="data-bs-slide",ve="paused",ye={pause:"hover",keyboard:!1,touch:!0,interval:5e3},we=t=>K(t,de);let xe=0,be=0,Ee=0;const Pe=mt(`slide.bs.${ce}`),Ne=mt(`slid.bs.${ce}`),Ie=t=>{const{index:e,direction:n,element:o,slides:i,options:s}=t;if(t.isAnimating){const a=Me(t),r="left"===n?"next":"prev",l="left"===n?"start":"end";W(i[e],ne),R(i[e],`${pe}-${r}`),R(i[e],`${pe}-${l}`),R(i[a],ne),R(i[a],`${pe}-${l}`),at(o,Ne),Pt(o,ge),t.cycle&&!ot(o).hidden&&s.interval&&!t.isPaused&&t.cycle()}};function _e(){const t=we(this);t&&!t.isPaused&&!Et(this,ve)&&W(this,ve)}function Te(){const t=we(this);t&&t.isPaused&&!Et(this,ve)&&t.cycle()}function Se(t){t.preventDefault();const e=Lt(this,fe)||ue(this),n=we(e);if(n&&!n.isAnimating){const t=+(X(this,me)||0);this&&!F(this,ne)&&!Number.isNaN(t)&&n.to(t)}}function Ae(t){t.preventDefault();const e=Lt(this,fe)||ue(this),n=we(e);if(n&&!n.isAnimating){const t=X(this,ge);"next"===t?n.next():"prev"===t&&n.prev()}}const $e=({code:t,target:e})=>{const n=ot(e),[o]=[...Gt(fe,n)].filter((t=>Ct(t))),i=we(o);if(i&&!i.isAnimating&&!/textarea|input/i.test(e.nodeName)){const e=Ot(o);t===(e?A:S)?i.prev():t===(e?S:A)&&i.next()}};function ke(t){const{target:e}=t,n=we(this);n&&n.isTouch&&(n.indicator&&!n.indicator.contains(e)||!n.controls.includes(e))&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())}function De(t){const{target:e}=t,n=we(this);if(n&&!n.isAnimating&&!n.isTouch){const{controls:o,indicators:i}=n;[...o,...i].every((t=>t===e||t.contains(e)))||(xe=t.pageX,this.contains(e)&&(n.isTouch=!0,He(n,!0)))}}const Be=t=>{be=t.pageX},Ce=t=>{var e;const{target:n}=t,o=ot(n),i=[...Gt(fe,o)].map((t=>we(t))).find((t=>t.isTouch));if(i){const{element:s,index:a}=i,r=Ot(s);Ee=t.pageX,i.isTouch=!1,He(i),!(null!=(e=o.getSelection())&&e.toString().length)&&s.contains(n)&&Math.abs(xe-Ee)>120&&(be<xe?i.to(a+(r?-1:1)):be>xe&&i.to(a+(r?1:-1))),xe=0,be=0,Ee=0}},Oe=(t,e)=>{const{indicators:n}=t;[...n].forEach((t=>R(t,ne))),t.indicators[e]&&W(n[e],ne)},He=(t,e)=>{const{element:n}=t,o=e?s:a;o(ot(n),"pointermove",Be,gt),o(ot(n),"pointerup",Ce,gt)},Le=(t,e)=>{const{element:n,options:o,slides:i,controls:r,indicators:l}=t,{touch:c,pause:d,interval:h,keyboard:u}=o,f=e?s:a;d&&h&&(f(n,b,_e),f(n,E,Te)),c&&i.length>2&&(f(n,"pointerdown",De,gt),f(n,I,ke,{passive:!1}),f(n,"dragstart",ke,{passive:!1})),r.length&&r.forEach((t=>{t&&f(t,w,Ae)})),l.length&&l.forEach((t=>{f(t,w,Se)})),u&&f(ot(n),y,$e)},Me=t=>{const{slides:e,element:n}=t,o=Mt(`.${pe}.${ne}`,n);return Z(o)?[...e].indexOf(o):-1};class ze extends qt{constructor(t,e){super(t,e);const{element:n}=this;this.direction=Ot(n)?"right":"left",this.isTouch=!1,this.slides=Xt(pe,n);const{slides:o}=this;if(o.length>=2){const t=Me(this),e=[...o].find((t=>Yt(t,`.${pe}-next,.${pe}-next`)));this.index=t;const i=ot(n);this.controls=[...Gt(`[${ge}]`,n),...Gt(`[${ge}][${le}="#${n.id}"]`,i)].filter(((t,e,n)=>e===n.indexOf(t))),this.indicator=Mt(`.${ce}-indicators`,n),this.indicators=[...this.indicator?Gt(`[${me}]`,this.indicator):[],...Gt(`[${me}][${le}="#${n.id}"]`,i)].filter(((t,e,n)=>e===n.indexOf(t)));const{options:s}=this;this.options.interval=!0===s.interval?ye.interval:s.interval,e?this.index=[...o].indexOf(e):t<0&&(this.index=0,W(o[0],ne),this.indicators.length&&Oe(this,0)),this.indicators.length&&Oe(this,this.index),Le(this,!0),s.interval&&this.cycle()}}get name(){return de}get defaults(){return ye}get isPaused(){return F(this.element,ve)}get isAnimating(){return null!==Mt(`.${pe}-next,.${pe}-prev`,this.element)}cycle(){const{element:t,options:e,isPaused:n,index:o}=this;Pt(t,ce),n&&(Pt(t,ve),R(t,ve)),bt(t,(()=>{this.element&&!this.isPaused&&!this.isTouch&&Ct(t)&&this.to(o+1)}),e.interval,ce)}pause(){const{element:t,options:e}=this;!this.isPaused&&e.interval&&(W(t,ve),bt(t,(()=>{}),1,ve))}next(){this.isAnimating||this.to(this.index+1)}prev(){this.isAnimating||this.to(this.index-1)}to(t){const{element:e,slides:n,options:o}=this,i=Me(this),s=Ot(e);let a=t;if(!this.isAnimating&&i!==a&&!Et(e,ge)){i<a||0===i&&a===n.length-1?this.direction=s?"right":"left":(i>a||i===n.length-1&&0===a)&&(this.direction=s?"left":"right");const{direction:t}=this;a<0?a=n.length-1:a>=n.length&&(a=0);const r="left"===t?"next":"prev",l="left"===t?"start":"end",c={relatedTarget:n[a],from:i,to:a,direction:t};it(Pe,c),it(Ne,c),at(e,Pe),Pe.defaultPrevented||(this.index=a,Oe(this,a),lt(n[a])&&F(e,"slide")?bt(e,(()=>{W(n[a],`${pe}-${r}`),vt(n[a]),W(n[a],`${pe}-${l}`),W(n[i],`${pe}-${l}`),ct(n[a],(()=>this.slides&&this.slides.length&&Ie(this)))}),0,ge):(W(n[a],ne),R(n[i],ne),bt(e,(()=>{Pt(e,ge),e&&o.interval&&!this.isPaused&&this.cycle(),at(e,Ne)}),0,ge)))}}dispose(){const{isAnimating:t}=this,e={...this,isAnimating:t};Le(e),super.dispose(),e.isAnimating&&ct(e.slides[e.index],(()=>{Ie(e)}))}}e(ze,"selector",fe),e(ze,"init",(t=>new ze(t))),e(ze,"getInstance",we);const Ge="collapsing",Xe="collapse",Ye="Collapse",Ue=`.${Xe}`,je=`[${oe}="${Xe}"]`,We={parent:null},Re=t=>K(t,Ye),Fe=mt(`show.bs.${Xe}`),qe=mt(`shown.bs.${Xe}`),Ve=mt(`hide.bs.${Xe}`),Ze=mt(`hidden.bs.${Xe}`),Qe=t=>{const{element:e,parent:n,triggers:o}=t;at(e,Ve),Ve.defaultPrevented||(bt(e,G,17),n&&bt(n,G,17),yt(e,{height:`${e.scrollHeight}px`}),R(e,Xe),R(e,jt),W(e,Ge),vt(e),yt(e,{height:"0px"}),ct(e,(()=>{Pt(e),n&&Pt(n),o.forEach((t=>U(t,d,"false"))),R(e,Ge),W(e,Xe),yt(e,{height:""}),at(e,Ze)})))},Je=(t,e)=>{const n=e?s:a,{triggers:o}=t;o.length&&o.forEach((t=>n(t,w,Ke)))},Ke=t=>{const{target:e}=t,n=e&&Lt(e,je),o=n&&ue(n),i=o&&Re(o);i&&i.toggle(),n&&"A"===n.tagName&&t.preventDefault()};class tn extends qt{constructor(t,e){super(t,e);const{element:n,options:o}=this,i=ot(n);this.triggers=[...Gt(je,i)].filter((t=>ue(t)===n)),this.parent=Z(o.parent)?o.parent:tt(o.parent)?ue(n)||Mt(o.parent,i):null,Je(this,!0)}get name(){return Ye}get defaults(){return We}toggle(){F(this.element,jt)?this.hide():this.show()}hide(){const{triggers:t,element:e}=this;Et(e)||(Qe(this),t.length&&t.forEach((t=>W(t,`${Xe}d`))))}show(){const{element:t,parent:e,triggers:n}=this;let o,i;e&&(o=[...Gt(`.${Xe}.${jt}`,e)].find((t=>Re(t))),i=o&&Re(o)),(!e||!Et(e))&&!Et(t)&&(i&&o!==t&&(Qe(i),i.triggers.forEach((t=>{W(t,`${Xe}d`)}))),(t=>{const{element:e,parent:n,triggers:o}=t;at(e,Fe),Fe.defaultPrevented||(bt(e,G,17),n&&bt(n,G,17),W(e,Ge),R(e,Xe),yt(e,{height:`${e.scrollHeight}px`}),ct(e,(()=>{Pt(e),n&&Pt(n),o.forEach((t=>U(t,d,"true"))),R(e,Ge),W(e,Xe),W(e,jt),yt(e,{height:""}),at(e,qe)})))})(this),n.length&&n.forEach((t=>R(t,`${Xe}d`))))}dispose(){Je(this),super.dispose()}}e(tn,"selector",Ue),e(tn,"init",(t=>new tn(t))),e(tn,"getInstance",Re);const en=["dropdown","dropup","dropstart","dropend"],nn="Dropdown",on="dropdown-menu",sn=t=>{const e=Lt(t,"A");return"A"===t.tagName&&Y(t,"href")&&"#"===t.href.slice(-1)||e&&Y(e,"href")&&"#"===e.href.slice(-1)},[an,rn,ln,cn]=en,dn=`[${oe}="${an}"]`,hn=t=>K(t,nn),un=`${on}-end`,fn=[an,rn],pn=[ln,cn],mn=["A","BUTTON"],gn={offset:5,display:"dynamic"},vn=mt(`show.bs.${an}`),yn=mt(`shown.bs.${an}`),wn=mt(`hide.bs.${an}`),xn=mt(`hidden.bs.${an}`),bn=mt(`updated.bs.${an}`),En=t=>{const{element:e,menu:n,parentElement:o,options:i}=t,{offset:s}=i;if("static"!==rt(n,"position")){const t=Ot(e),i=F(n,un);["margin","top","bottom","left","right"].forEach((t=>{const e={};e[t]="",yt(n,e)}));let a=en.find((t=>F(o,t)))||an;const r={dropdown:[s,0,0],dropup:[0,0,s],dropstart:t?[-1,0,0,s]:[-1,s,0],dropend:t?[-1,s,0]:[-1,0,0,s]},l={dropdown:{top:"100%"},dropup:{top:"auto",bottom:"100%"},dropstart:t?{left:"100%",right:"auto"}:{left:"auto",right:"100%"},dropend:t?{left:"auto",right:"100%"}:{left:"100%",right:"auto"},menuStart:t?{right:"0",left:"auto"}:{right:"auto",left:"0"},menuEnd:t?{right:"auto",left:"0"}:{right:"0",left:"auto"}},{offsetWidth:c,offsetHeight:d}=n,{clientWidth:h,clientHeight:u}=_t(e),{left:f,top:p,width:m,height:g}=Nt(e),v=f-c-s<0,y=f+c+m+s>=h,w=p+d+s>=u,x=p+d+g+s>=u,b=p-d-s<0,E=(!t&&i||t&&!i)&&f+m-c<0,P=(t&&i||!t&&!i)&&f+c>=h;if(pn.includes(a)&&v&&y&&(a=an),a===ln&&(t?y:v)&&(a=cn),a===cn&&(t?v:y)&&(a=ln),a===rn&&b&&!x&&(a=an),a===an&&x&&!b&&(a=rn),pn.includes(a)&&w&&it(l[a],{top:"auto",bottom:0}),fn.includes(a)&&(E||P)){let e={left:"auto",right:"auto"};!E&&P&&!t&&(e={left:"auto",right:0}),E&&!P&&t&&(e={left:0,right:"auto"}),e&&it(l[a],e)}const N=r[a];yt(n,{...l[a],margin:`${N.map((t=>t&&`${t}px`)).join(" ")}`}),fn.includes(a)&&i&&i&&yt(n,l[!t&&E||t&&P?"menuStart":"menuEnd"]),at(o,bn)}},Pn=t=>{const{element:e,options:n}=t,o=t.open?s:a,i=ot(e);o(i,w,_n),o(i,m,_n),o(i,y,Sn),o(i,"keyup",An),"dynamic"===n.display&&[N,P].forEach((t=>{o(Bt(e),t,$n,gt)}))},Nn=(t,e)=>{(e?s:a)(t.element,w,Tn)},In=t=>{const e=[...en,"btn-group","input-group"].map((e=>Xt(`${e} ${jt}`,ot(t)))).find((t=>t.length));if(e&&e.length)return[...e[0].children].find((t=>en.some((e=>e===X(t,oe)))))},_n=t=>{const{target:e,type:n}=t;if(e&&Z(e)){const o=In(e),i=o&&hn(o);if(i){const{parentElement:s,menu:a}=i,r=s&&s.contains(e)&&("form"===e.tagName||null!==Lt(e,"form"));[w,x].includes(n)&&sn(e)&&t.preventDefault(),!r&&n!==m&&e!==o&&e!==a&&i.hide()}}},Tn=t=>{const{target:e}=t,n=e&&Lt(e,dn),o=n&&hn(n);o&&(t.stopPropagation(),o.toggle(),n&&sn(n)&&t.preventDefault())},Sn=t=>{[_,T].includes(t.code)&&t.preventDefault()};function An(t){const{code:e}=t,n=In(this),o=n&&hn(n),{activeElement:i}=n&&ot(n);if(o&&i){const{menu:t,open:s}=o,a=(t=>[...t.children].map((t=>{if(t&&mn.includes(t.tagName))return t;const{firstElementChild:e}=t;return e&&mn.includes(e.tagName)?e:null})).filter((t=>t)))(t);if(a&&a.length&&[_,T].includes(e)){let t=a.indexOf(i);i===n?t=0:e===T?t=t>1?t-1:0:e===_&&(t=t<a.length-1?t+1:t),a[t]&&dt(a[t])}$===e&&s&&(o.toggle(),dt(n))}}function $n(){const t=In(this),e=t&&hn(t);e&&e.open&&En(e)}class kn extends qt{constructor(t,e){super(t,e);const{parentElement:n}=this.element,[o]=Xt(on,n);o&&(this.parentElement=n,this.menu=o,Nn(this,!0))}get name(){return nn}get defaults(){return gn}toggle(){this.open?this.hide():this.show()}show(){const{element:t,open:e,menu:n,parentElement:o}=this;if(!e){const i=In(t),s=i&&hn(i);s&&s.hide(),[vn,yn,bn].forEach((e=>{e.relatedTarget=t})),at(o,vn),vn.defaultPrevented||(W(n,jt),W(o,jt),U(t,d,"true"),En(this),this.open=!e,dt(t),Pn(this),at(o,yn))}}hide(){const{element:t,open:e,menu:n,parentElement:o}=this;e&&([wn,xn].forEach((e=>{e.relatedTarget=t})),at(o,wn),wn.defaultPrevented||(R(n,jt),R(o,jt),U(t,d,"false"),this.open=!e,Pn(this),at(o,xn)))}dispose(){this.open&&this.hide(),Nn(this),super.dispose()}}e(kn,"selector",dn),e(kn,"init",(t=>new kn(t))),e(kn,"getInstance",hn);const Dn="modal",Bn="Modal",Cn="Offcanvas",On="sticky-top",Hn="position-sticky",Ln=t=>[...Xt("fixed-top",t),...Xt("fixed-bottom",t),...Xt(On,t),...Xt(Hn,t),...Xt("is-fixed",t)],Mn=t=>{const{clientWidth:e}=_t(t),{innerWidth:n}=Bt(t);return Math.abs(n-e)},zn=(t,e)=>{const n=It(t),o=parseInt(rt(n,"paddingRight"),10),i="hidden"===rt(n,"overflow")&&o?0:Mn(t),s=Ln(n);e&&(yt(n,{overflow:"hidden",paddingRight:`${o+i}px`}),s.length&&s.forEach((t=>{const e=rt(t,"paddingRight");if(t.style.paddingRight=`${parseInt(e,10)+i}px`,[On,Hn].some((e=>F(t,e)))){const e=rt(t,"marginRight");t.style.marginRight=parseInt(e,10)-i+"px"}})))},Gn="offcanvas",Xn=st({tagName:"div",className:"popup-container"}),Yn=(t,e)=>{const n=V(e)&&"BODY"===e.nodeName,o=V(e)&&!n?e:Xn,i=n?e:It(t);V(t)&&(o===Xn&&i.append(Xn),o.append(t))},Un=(t,e)=>{const n=V(e)&&"BODY"===e.nodeName,o=V(e)&&!n?e:Xn;V(t)&&(t.remove(),o===Xn&&!Xn.children.length&&Xn.remove())},jn=(t,e)=>{const n=V(e)&&"BODY"!==e.nodeName?e:Xn;return V(t)&&n.contains(t)},Wn="backdrop",Rn=`${Dn}-${Wn}`,Fn=`${Gn}-${Wn}`,qn=`.${Dn}.${jt}`,Vn=`.${Gn}.${jt}`,Zn=st("div"),Qn=t=>Mt(`${qn},${Vn}`,ot(t)),Jn=t=>{const e=t?Rn:Fn;[Rn,Fn].forEach((t=>{R(Zn,t)})),W(Zn,e)},Kn=(t,e,n)=>{Jn(n),Yn(Zn,It(t)),e&&W(Zn,Ut)},to=()=>{F(Zn,jt)||(W(Zn,jt),vt(Zn))},eo=()=>{R(Zn,jt)},no=t=>{Qn(t)||(R(Zn,Ut),Un(Zn,It(t)),(t=>{const e=It(t);yt(e,{paddingRight:"",overflow:""});const n=Ln(e);n.length&&n.forEach((t=>{yt(t,{paddingRight:"",marginRight:""})}))})(t))},oo=t=>Z(t)&&"hidden"!==rt(t,"visibility")&&null!==t.offsetParent,io=`.${Dn}`,so=`[${oe}="${Dn}"]`,ao=`[${Wt}="${Dn}"]`,ro=`${Dn}-static`,lo={backdrop:!0,keyboard:!0},co=t=>K(t,Bn),ho=mt(`show.bs.${Dn}`),uo=mt(`shown.bs.${Dn}`),fo=mt(`hide.bs.${Dn}`),po=mt(`hidden.bs.${Dn}`),mo=t=>{const{element:e}=t,n=Mn(e),{clientHeight:o,scrollHeight:i}=_t(e),{clientHeight:s,scrollHeight:a}=e,r=s!==a;if(!r&&n){const t={};t[Ot(e)?"paddingLeft":"paddingRight"]=`${n}px`,yt(e,t)}zn(e,r||o!==i)},go=(t,e)=>{const n=e?s:a,{element:o,update:i}=t;n(o,w,No),n(Bt(o),P,i,gt),n(ot(o),y,Po)},vo=(t,e)=>{const n=e?s:a,{triggers:o}=t;o.length&&o.forEach((t=>n(t,w,Eo)))},yo=t=>{const{triggers:e,element:n,relatedTarget:o}=t;no(n),yt(n,{paddingRight:"",display:""}),go(t);const i=ho.relatedTarget||e.find(oo);i&&dt(i),po.relatedTarget=o,at(n,po)},wo=t=>{const{element:e,relatedTarget:n}=t;dt(e),go(t,!0),uo.relatedTarget=n,at(e,uo)},xo=t=>{const{element:e,hasFade:n}=t;yt(e,{display:"block"}),mo(t),Qn(e)||yt(It(e),{overflow:"hidden"}),W(e,jt),j(e,h),U(e,u,"true"),n?ct(e,(()=>wo(t))):wo(t)},bo=t=>{const{element:e,options:n,hasFade:o}=t;n.backdrop&&o&&F(Zn,jt)&&!Qn(e)?(eo(),ct(Zn,(()=>yo(t)))):yo(t)},Eo=t=>{const{target:e}=t,n=e&&Lt(e,so),o=n&&ue(n),i=o&&co(o);i&&(n&&"A"===n.tagName&&t.preventDefault(),i.relatedTarget=n,i.toggle())},Po=({code:t,target:e})=>{const n=Mt(qn,ot(e)),o=n&&co(n);if(o){const{options:e}=o;e.keyboard&&t===$&&F(n,jt)&&(o.relatedTarget=null,o.hide())}};function No(t){var e,n;const o=co(this);if(o&&!Et(this)){const{options:i,isStatic:s,modalDialog:a}=o,{backdrop:r}=i,{target:l}=t,c=null==(n=null==(e=ot(this))?void 0:e.getSelection())?void 0:n.toString().length,d=a.contains(l),h=l&&Lt(l,ao);s&&!d?bt(this,(()=>{W(this,ro),ct(a,(()=>Io(o)))}),17):(h||!c&&!s&&!d&&r)&&(o.relatedTarget=h||null,o.hide(),t.preventDefault())}}const Io=t=>{const{element:e,modalDialog:n}=t,o=(lt(n)||0)+17;R(e,ro),bt(e,(()=>Pt(e)),o)};class _o extends qt{constructor(t,n){super(t,n),e(this,"update",(()=>{F(this.element,jt)&&mo(this)}));const{element:o}=this,i=Mt(`.${Dn}-dialog`,o);i&&(this.modalDialog=i,this.triggers=[...Gt(so,ot(o))].filter((t=>ue(t)===o)),this.isStatic="static"===this.options.backdrop,this.hasFade=F(o,Ut),this.relatedTarget=null,vo(this,!0))}get name(){return Bn}get defaults(){return lo}toggle(){F(this.element,jt)?this.hide():this.show()}show(){const{element:t,options:e,hasFade:n,relatedTarget:o}=this,{backdrop:i}=e;let s=0;if(!F(t,jt)&&(ho.relatedTarget=o||void 0,at(t,ho),!ho.defaultPrevented)){const e=Qn(t);if(e&&e!==t){const t=co(e)||K(e,Cn);t&&t.hide()}i?(jn(Zn)?Jn(!0):Kn(t,n,!0),s=lt(Zn),to(),setTimeout((()=>xo(this)),s)):(xo(this),e&&F(Zn,jt)&&eo())}}hide(){const{element:t,hasFade:e,relatedTarget:n}=this;F(t,jt)&&(fo.relatedTarget=n||void 0,at(t,fo),fo.defaultPrevented||(R(t,jt),U(t,h,"true"),j(t,u),e?ct(t,(()=>bo(this))):bo(this)))}dispose(){const t={...this},{element:e,modalDialog:n}=t,o=()=>setTimeout((()=>super.dispose()),17);vo(t),this.hide(),F(e,"fade")?ct(n,o):o()}}e(_o,"selector",io),e(_o,"init",(t=>new _o(t))),e(_o,"getInstance",co);const To=`.${Gn}`,So=`[${oe}="${Gn}"]`,Ao=`[${Wt}="${Gn}"]`,$o=`${Gn}-toggling`,ko={backdrop:!0,keyboard:!0,scroll:!1},Do=t=>K(t,Cn),Bo=mt(`show.bs.${Gn}`),Co=mt(`shown.bs.${Gn}`),Oo=mt(`hide.bs.${Gn}`),Ho=mt(`hidden.bs.${Gn}`),Lo=(t,e)=>{const n=e?s:a;t.triggers.forEach((t=>n(t,w,Go)))},Mo=(t,e)=>{const n=e?s:a,o=ot(t.element);n(o,y,Yo),n(o,w,Xo)},zo=t=>{const{element:e,options:n}=t;n.scroll||((t=>{const{element:e}=t,{clientHeight:n,scrollHeight:o}=_t(e);zn(e,n!==o)})(t),yt(It(e),{overflow:"hidden"})),W(e,$o),W(e,jt),yt(e,{visibility:"visible"}),ct(e,(()=>Uo(t)))},Go=t=>{const e=Lt(t.target,So),n=e&&ue(e),o=n&&Do(n);o&&(o.relatedTarget=e,o.toggle(),e&&"A"===e.tagName&&t.preventDefault())},Xo=t=>{const{target:e}=t,n=Mt(Vn,ot(e)),o=Mt(Ao,n),i=n&&Do(n);if(i){const{options:s,triggers:a}=i,{backdrop:r}=s,l=Lt(e,So),c=ot(n).getSelection();(!Zn.contains(e)||"static"!==r)&&(!(c&&c.toString().length)&&(!n.contains(e)&&r&&(!l||a.includes(e))||o&&o.contains(e))&&(i.relatedTarget=o&&o.contains(e)?o:null,i.hide()),l&&"A"===l.tagName&&t.preventDefault())}},Yo=({code:t,target:e})=>{const n=Mt(Vn,ot(e)),o=n&&Do(n);o&&o.options.keyboard&&t===$&&(o.relatedTarget=null,o.hide())},Uo=t=>{const{element:e}=t;R(e,$o),j(e,h),U(e,u,"true"),U(e,"role","dialog"),at(e,Co),Mo(t,!0),dt(e)},jo=t=>{const{element:e,triggers:n}=t;U(e,h,"true"),j(e,u),j(e,"role"),yt(e,{visibility:""});const o=Bo.relatedTarget||n.find(oo);o&&dt(o),no(e),at(e,Ho),R(e,$o),Qn(e)||Mo(t)};class Wo extends qt{constructor(t,e){super(t,e);const{element:n}=this;this.triggers=[...Gt(So,ot(n))].filter((t=>ue(t)===n)),this.relatedTarget=null,Lo(this,!0)}get name(){return Cn}get defaults(){return ko}toggle(){F(this.element,jt)?this.hide():this.show()}show(){const{element:t,options:e,relatedTarget:n}=this;let o=0;if(!F(t,jt)&&(Bo.relatedTarget=n||void 0,Co.relatedTarget=n||void 0,at(t,Bo),!Bo.defaultPrevented)){const n=Qn(t);if(n&&n!==t){const t=Do(n)||K(n,Bn);t&&t.hide()}e.backdrop?(jn(Zn)?Jn():Kn(t,!0),o=lt(Zn),to(),setTimeout((()=>zo(this)),o)):(zo(this),n&&F(Zn,jt)&&eo())}}hide(){const{element:t,relatedTarget:e}=this;F(t,jt)&&(Oo.relatedTarget=e||void 0,Ho.relatedTarget=e||void 0,at(t,Oo),Oo.defaultPrevented||(W(t,$o),R(t,jt),(t=>{const{element:e,options:n}=t,o=Qn(e);e.blur(),!o&&n.backdrop&&F(Zn,jt)?(eo(),ct(Zn,(()=>jo(t)))):jo(t)})(this)))}dispose(){const t={...this},{element:e,options:n}=t,o=n.backdrop?lt(Zn):0,i=()=>setTimeout((()=>super.dispose()),o+17);Lo(t),this.hide(),F(e,jt)?ct(e,i):i()}}e(Wo,"selector",To),e(Wo,"init",(t=>new Wo(t))),e(Wo,"getInstance",Do);const Ro="popover",Fo="Popover",qo="tooltip",Vo=t=>{const e=t===qo;return`<div class="${t}" role="${qo}">${(e?"":`<h3 class="${t}-header"></h3>`)+`<div class="${t}-arrow"></div>`+`<div class="${e?`${t}-inner`:`${t}-body`}"></div>`}</div>`},Zo={top:"top",bottom:"bottom",left:"start",right:"end"},Qo=t=>{const e=/\b(top|bottom|start|end)+/,{element:n,tooltip:o,container:i,options:s,arrow:a}=t;if(o){const r={...Zo},l=Ot(n);yt(o,{top:"",left:"",right:"",bottom:""});const c=t.name===Fo,{offsetWidth:d,offsetHeight:h}=o,{clientWidth:u,clientHeight:f,offsetWidth:p}=_t(n);let{placement:m}=s;const{clientWidth:g,offsetWidth:v}=i,y="fixed"===rt(i,"position"),w=Math.abs(y?g-v:u-p),x=l&&y?w:0,b=u-(l?0:w)-1,{width:E,height:P,left:N,right:I,top:_}=Nt(n,!0),{x:T,y:S}={x:N,y:_};yt(a,{top:"",left:"",right:"",bottom:""});let A=0,$="",k=0,D="",B="",C="",O="";const H=a.offsetWidth||0,L=a.offsetHeight||0,M=H/2;let z=_-h-L<0,G=_+h+P+L>=f,X=N-d-H<x,Y=N+d+E+H>=b;const U=["left","right"],j=["top","bottom"];z=U.includes(m)?_+P/2-h/2-L<0:z,G=U.includes(m)?_+h/2+P/2+L>=f:G,X=j.includes(m)?N+E/2-d/2<x:X,Y=j.includes(m)?N+d/2+E/2>=b:Y,m=U.includes(m)&&X&&Y?"top":m,m="top"===m&&z?"bottom":m,m="bottom"===m&&G?"top":m,m="left"===m&&X?"right":m,m="right"===m&&Y?"left":m,o.className.includes(m)||(o.className=o.className.replace(e,r[m])),U.includes(m)?(k="left"===m?T-d-(c?H:0):T+E+(c?H:0),z&&G?(A=0,$=0,B=_+P/2-L/2):z?(A=S,$="",B=P/2-H):G?(A=S-h+P,$="",B=h-P/2-H):(A=S-h/2+P/2,B=h/2-L/2)):j.includes(m)&&(A="top"===m?S-h-(c?L:0):S+P+(c?L:0),X?(k=0,C=T+E/2-M):Y?(k="auto",D=0,O=E/2+b-I-M):(k=T-d/2+E/2,C=d/2-M)),yt(o,{top:`${A}px`,bottom:""===$?"":`${$}px`,left:"auto"===k?k:`${k}px`,right:""!==D?`${D}px`:""}),Z(a)&&(""!==B&&(a.style.top=`${B}px`),""!==C?a.style.left=`${C}px`:""!==O&&(a.style.right=`${O}px`));const W=mt(`updated.bs.${ft(t.name)}`);at(n,W)}},Jo={template:Vo(qo),title:"",customClass:"",trigger:"hover focus",placement:"top",sanitizeFn:void 0,animation:!0,delay:200,container:document.body,content:"",dismissible:!1,btnClose:""},Ko="data-original-title",ti="Tooltip",ei=(t,e,n)=>{if(tt(e)&&e.length){let o=e.trim();(t=>"function"==typeof t||!1)(n)&&(o=n(o));const i=(new DOMParser).parseFromString(o,"text/html");t.append(...i.body.childNodes)}else Z(e)?t.append(e):((t=>q(t)&&"NodeList"===t.constructor.name||!1)(e)||(t=>Array.isArray(t)||!1)(e)&&e.every(V))&&t.append(...e)},ni=`[${oe}="${qo}"],[data-tip="${qo}"]`,oi="title";let ii=t=>K(t,ti);const si=t=>{const{tooltip:e,container:n,offsetParent:o}=t;return e&&jn(e,n===o?n:o)},ai=(t,e)=>{const n=e?s:a,{element:o}=t;n(ot(o),I,t.handleTouch,gt),[N,P].forEach((e=>{n(Bt(o),e,t.update,gt)}))},ri=t=>{const{element:e}=t,n=mt(`shown.bs.${ft(t.name)}`);ai(t,!0),at(e,n),Pt(e,"in")},li=t=>{const{element:e}=t,n=mt(`hidden.bs.${ft(t.name)}`);ai(t),(t=>{const{element:e,tooltip:n,container:o,offsetParent:i}=t;j(e,c),Un(n,o===i?o:i)})(t),at(e,n),Pt(e,"out")},ci=(t,e)=>{const n=e?s:a,{element:o,options:i,btn:r}=t,{trigger:l}=i,c=!(t.name===ti||!i.dismissible);l.includes("manual")||(t.enabled=!!e,l.split(" ").forEach((e=>{"hover"===e?(n(o,x,t.handleShow),n(o,b,t.handleShow),c||(n(o,E,t.handleHide),n(ot(o),I,t.handleTouch,gt))):e===w?n(o,e,c?t.handleShow:t.toggle):e===m&&(n(o,g,t.handleShow),c||n(o,v,t.handleHide),M&&n(o,w,t.handleFocus)),c&&r&&n(r,w,t.handleHide)})))},di=(t,e)=>{const n=e?s:a,{element:o,container:i,offsetParent:r}=t,{offsetHeight:l,scrollHeight:c}=i,d=Lt(o,`.${Dn}`),h=Lt(o,`.${Gn}`),u=Bt(o),f=i===r&&l!==c?i:u;n(f,P,t.update,gt),n(f,N,t.update,gt),d&&n(d,`hide.bs.${Dn}`,t.handleHide),h&&n(h,`hide.bs.${Gn}`,t.handleHide)},hi=(t,e)=>{const n=[Ko,oi],{element:o}=t;U(o,n[e?0:1],e||X(o,n[0])||""),j(o,n[e?1:0])};class ui extends qt{constructor(t,n){super(t,n),e(this,"handleFocus",(()=>dt(this.element))),e(this,"handleShow",(()=>this.show())),e(this,"handleHide",(()=>this.hide())),e(this,"update",(()=>{Qo(this)})),e(this,"toggle",(()=>{const{tooltip:t}=this;t&&!si(this)?this.show():this.hide()})),e(this,"handleTouch",(({target:t})=>{const{tooltip:e,element:n}=this;e&&e.contains(t)||t===n||t&&n.contains(t)||this.hide()}));const{element:o}=this,i=this.name===ti,s=i?qo:Ro,a=i?ti:Fo;ii=t=>K(t,a),this.enabled=!0,this.id=`${s}-${Dt(o,s)}`;const{options:r}=this;!r.title&&i||!i&&!r.content||(it(Jo,{titleAttr:""}),Y(o,oi)&&i&&"string"==typeof r.title&&hi(this,r.title),this.container=(t=>{const e=["HTML","BODY"],n=[];let{parentNode:o}=t;for(;o&&!e.includes(o.nodeName);)o=St(o),Tt(o)||Ht(o)||n.push(o);return n.find(((t,e)=>"relative"!==rt(t,"position")&&n.slice(e+1).every((t=>"static"===rt(t,"position")))?t:null))||ot(t).body})(o),this.offsetParent=["sticky","fixed"].some((t=>rt(this.container,"position")===t))?this.container:ot(this.element).body,(t=>{const e=t.name===ti,{id:n,element:o,options:i}=t,{title:s,placement:a,template:r,animation:l,customClass:c,sanitizeFn:d,dismissible:h,content:u,btnClose:f}=i,p=e?qo:Ro,m={...Zo};let g=[],v=[];Ot(o)&&(m.left="end",m.right="start");const y=`bs-${p}-${m[a]}`;let w;if(Z(r))w=r;else{const t=st("div");ei(t,r,d),w=t.firstChild}t.tooltip=Z(w)?w.cloneNode(!0):void 0;const{tooltip:x}=t;if(x){U(x,"id",n),U(x,"role",qo);const o=e?`${qo}-inner`:`${Ro}-body`,i=e?null:Mt(`.${Ro}-header`,x),a=Mt(`.${o}`,x);t.arrow=Mt(`.${p}-arrow`,x);const{arrow:r}=t;if(Z(s))g=[s.cloneNode(!0)];else{const t=st("div");ei(t,s,d),g=[...t.childNodes]}if(Z(u))v=[u.cloneNode(!0)];else{const t=st("div");ei(t,u,d),v=[...t.childNodes]}if(h)if(s)if(Z(f))g=[...g,f.cloneNode(!0)];else{const t=st("div");ei(t,f,d),g=[...g,t.firstChild]}else if(i&&i.remove(),Z(f))v=[...v,f.cloneNode(!0)];else{const t=st("div");ei(t,f,d),v=[...v,t.firstChild]}e?s&&a&&ei(a,s,d):(s&&i&&ei(i,g,d),u&&a&&ei(a,v,d),t.btn=Mt(".btn-close",x)||void 0),W(x,"position-fixed"),W(r,"position-absolute"),F(x,p)||W(x,p),l&&!F(x,Ut)&&W(x,Ut),c&&!F(x,c)&&W(x,c),F(x,y)||W(x,y)}})(this),ci(this,!0))}get name(){return ti}get defaults(){return Jo}show(){const{options:t,tooltip:e,element:n,container:o,offsetParent:i,id:s}=this,{animation:a}=t,r=Et(n,"out"),l=o===i?o:i;Pt(n,"out"),e&&!r&&!si(this)&&bt(n,(()=>{const t=mt(`show.bs.${ft(this.name)}`);at(n,t),t.defaultPrevented||(Yn(e,l),U(n,c,`#${s}`),this.update(),di(this,!0),F(e,jt)||W(e,jt),a?ct(e,(()=>ri(this))):ri(this))}),17,"in")}hide(){const{options:t,tooltip:e,element:n}=this,{animation:o,delay:i}=t;Pt(n,"in"),e&&si(this)&&bt(n,(()=>{const t=mt(`hide.bs.${ft(this.name)}`);at(n,t),t.defaultPrevented||(this.update(),R(e,jt),di(this),o?ct(e,(()=>li(this))):li(this))}),i+17,"out")}enable(){const{enabled:t}=this;t||(ci(this,!0),this.enabled=!t)}disable(){const{tooltip:t,options:e,enabled:n}=this,{animation:o}=e;n&&(t&&si(this)&&o?(this.hide(),ct(t,(()=>ci(this)))):ci(this),this.enabled=!n)}toggleEnabled(){this.enabled?this.disable():this.enable()}dispose(){const{tooltip:t,options:e}=this,n={...this,name:this.name},o=()=>setTimeout((()=>((t,e)=>{const{element:n}=t;ci(t),Y(n,Ko)&&t.name===ti&&hi(t),e&&e()})(n,(()=>super.dispose()))),17);e.animation&&si(n)?(this.options.delay=0,this.hide(),ct(t,o)):o()}}e(ui,"selector",ni),e(ui,"init",(t=>new ui(t))),e(ui,"getInstance",ii),e(ui,"styleTip",Qo);const fi=`[${oe}="${Ro}"],[data-tip="${Ro}"]`,pi=it({},Jo,{template:Vo(Ro),content:"",dismissible:!1,btnClose:'<button class="btn-close" aria-label="Close"></button>'});class mi extends ui{constructor(t,n){super(t,n),e(this,"show",(()=>{super.show();const{options:t,btn:e}=this;t.dismissible&&e&&setTimeout((()=>dt(e)),17)}))}get name(){return Fo}get defaults(){return pi}}e(mi,"selector",fi),e(mi,"init",(t=>new mi(t))),e(mi,"getInstance",(t=>K(t,Fo))),e(mi,"styleTip",Qo);const gi="ScrollSpy",vi={offset:10,target:null},yi=mt("activate.bs.scrollspy"),wi=t=>Z(t)?t.scrollHeight:_t(t).scrollHeight,xi=({element:t,scrollTarget:e})=>et(e)?e.innerHeight:Nt(t).height,bi=t=>{[...zt("A",t)].forEach((t=>{F(t,ne)&&R(t,ne)}))},Ei=(t,e)=>{const{target:n,element:o}=t;Z(n)&&bi(n),t.activeItem=e,W(e,ne);const i=[];let s=e;for(;s!==It(o);)s=s.parentElement,(F(s,"nav")||F(s,"dropdown-menu"))&&i.push(s);i.forEach((t=>{const e=t.previousElementSibling;e&&!F(e,ne)&&W(e,ne)})),yi.relatedTarget=e,at(o,yi)},Pi=(t,e)=>{(e?s:a)(t.scrollTarget,N,t.refresh,gt)};class Ni extends qt{constructor(t,n){super(t,n),e(this,"refresh",(()=>{const{target:t}=this;if(Z(t)&&t.offsetHeight>0){(t=>{const{target:e,scrollTarget:n,options:o,itemsLength:i,scrollHeight:s,element:a}=t,{offset:r}=o,l=et(n),c=e&&zt("A",e),d=n?wi(n):s;if(t.scrollTop=l?n.scrollY:n.scrollTop,c&&(d!==s||i!==c.length)){let e,n,o;t.items=[],t.offsets=[],t.scrollHeight=d,t.maxScroll=t.scrollHeight-xi(t),[...c].forEach((i=>{e=X(i,"href"),n=e&&"#"===e.charAt(0)&&"#"!==e.slice(-1)&&Mt(e,ot(a)),n&&(t.items.push(i),o=Nt(n),t.offsets.push((l?o.top+t.scrollTop:n.offsetTop)-r))})),t.itemsLength=t.items.length}})(this);const{scrollTop:e,maxScroll:n,itemsLength:o,items:i,activeItem:s}=this;if(e>=n){const t=i[o-1];return void(s!==t&&Ei(this,t))}const{offsets:a}=this;if(s&&e<a[0]&&a[0]>0)return this.activeItem=null,void(t&&bi(t));i.forEach(((t,n)=>{s!==t&&e>=a[n]&&(typeof a[n+1]>"u"||e<a[n+1])&&Ei(this,t)}))}}));const{element:o,options:i}=this;this.target=Mt(i.target,ot(o)),this.target&&(this.scrollTarget=o.clientHeight<o.scrollHeight?o:Bt(o),this.scrollHeight=wi(this.scrollTarget),Pi(this,!0),this.refresh())}get name(){return gi}get defaults(){return vi}dispose(){Pi(this),super.dispose()}}e(Ni,"selector",'[data-bs-spy="scroll"]'),e(Ni,"init",(t=>new Ni(t))),e(Ni,"getInstance",(t=>K(t,gi)));const Ii="tab",_i=`[${oe}="${Ii}"]`,Ti=t=>K(t,"Tab"),Si=mt(`show.bs.${Ii}`),Ai=mt(`shown.bs.${Ii}`),$i=mt(`hide.bs.${Ii}`),ki=mt(`hidden.bs.${Ii}`),Di=new Map,Bi=t=>{const{tabContent:e,nav:n}=t;e&&F(e,Ge)&&(e.style.height="",R(e,Ge)),n&&Pt(n)},Ci=t=>{const{element:e,tabContent:n,content:o,nav:i}=t,{tab:s}=Z(i)&&Di.get(i)||{tab:null};if(n&&o&&F(o,Ut)){const{currentHeight:o,nextHeight:i}=Di.get(e)||{currentHeight:0,nextHeight:0};o===i?Bi(t):setTimeout((()=>{n.style.height=`${i}px`,vt(n),ct(n,(()=>Bi(t)))}),50)}else i&&Pt(i);Ai.relatedTarget=s,at(e,Ai)},Oi=t=>{const{element:e,content:n,tabContent:o,nav:i}=t,{tab:s,content:a}=i&&Di.get(i)||{tab:null,content:null};let r=0;if(o&&n&&F(n,Ut)&&([a,n].forEach((t=>{Z(t)&&W(t,"overflow-hidden")})),r=Z(a)?a.scrollHeight:0),Si.relatedTarget=s,ki.relatedTarget=e,at(e,Si),!Si.defaultPrevented){if(n&&W(n,ne),a&&R(a,ne),o&&n&&F(n,Ut)){const t=n.scrollHeight;Di.set(e,{currentHeight:r,nextHeight:t,tab:null,content:null}),W(o,Ge),o.style.height=`${r}px`,vt(o),[a,n].forEach((t=>{t&&R(t,"overflow-hidden")}))}n&&n&&F(n,Ut)?setTimeout((()=>{W(n,jt),ct(n,(()=>{Ci(t)}))}),1):(n&&W(n,jt),Ci(t)),s&&at(s,ki)}},Hi=t=>{const{nav:e}=t;if(!Z(e))return{tab:null,content:null};const n=Xt(ne,e);let o=null;1!==n.length||en.some((t=>F(n[0].parentElement,t)))?n.length>1&&(o=n[n.length-1]):[o]=n;return{tab:o,content:Z(o)?ue(o):null}},Li=t=>{if(!Z(t))return null;const e=Lt(t,`.${en.join(",.")}`);return e?Mt(`.${en[0]}-toggle`,e):null},Mi=(t,e)=>{(e?s:a)(t.element,w,zi)},zi=t=>{const e=Ti(t.target);e&&(t.preventDefault(),e.show())};class Gi extends qt{constructor(t){super(t);const{element:e}=this,n=ue(e);if(n){const t=Lt(e,".nav"),o=Lt(n,".tab-content");this.nav=t,this.content=n,this.tabContent=o,this.dropdown=Li(e);const{tab:i}=Hi(this);if(t&&!i){const n=Mt(_i,t),o=n&&ue(n);o&&(W(n,ne),W(o,jt),W(o,ne),U(e,p,"true"))}Mi(this,!0)}}get name(){return"Tab"}show(){const{element:t,content:e,nav:n,dropdown:o}=this;if(!(n&&Et(n)||F(t,ne))){const{tab:i,content:s}=Hi(this);if(n&&Di.set(n,{tab:i,content:s,currentHeight:0,nextHeight:0}),$i.relatedTarget=t,Z(i)&&(at(i,$i),!$i.defaultPrevented)){W(t,ne),U(t,p,"true");const a=Z(i)&&Li(i);if(a&&F(a,ne)&&R(a,ne),n){const t=()=>{i&&(R(i,ne),U(i,p,"false")),o&&!F(o,ne)&&W(o,ne)};s&&(F(s,Ut)||e&&F(e,Ut))?bt(n,t,1):t()}s&&(R(s,jt),F(s,Ut)?ct(s,(()=>Oi(this))):Oi(this))}}}dispose(){Mi(this),super.dispose()}}e(Gi,"selector",_i),e(Gi,"init",(t=>new Gi(t))),e(Gi,"getInstance",Ti);const Xi="toast",Yi="Toast",Ui=`.${Xi}`,ji=`[${Wt}="${Xi}"]`,Wi=`[${oe}="${Xi}"]`,Ri="showing",Fi="hide",qi={animation:!0,autohide:!0,delay:5e3},Vi=t=>K(t,Yi),Zi=mt(`show.bs.${Xi}`),Qi=mt(`shown.bs.${Xi}`),Ji=mt(`hide.bs.${Xi}`),Ki=mt(`hidden.bs.${Xi}`),ts=t=>{const{element:e,options:n}=t;R(e,Ri),Pt(e,Ri),at(e,Qi),n.autohide&&bt(e,(()=>t.hide()),n.delay,Xi)},es=t=>{const{element:e}=t;R(e,Ri),R(e,jt),W(e,Fi),Pt(e,Xi),at(e,Ki)},ns=(t,e)=>{const n=e?s:a,{element:o,triggers:i,dismiss:r,options:l,hide:c}=t;r&&n(r,w,c),l.autohide&&[g,v,b,E].forEach((t=>n(o,t,is))),i.length&&i.forEach((t=>n(t,w,os)))},os=t=>{const{target:e}=t,n=e&&Lt(e,Wi),o=n&&ue(n),i=o&&Vi(o);i&&(n&&"A"===n.tagName&&t.preventDefault(),i.relatedTarget=n,i.show())},is=t=>{const e=t.target,n=Vi(e),{type:o,relatedTarget:i}=t;n&&e!==i&&!e.contains(i)&&([b,g].includes(o)?Pt(e,Xi):bt(e,(()=>n.hide()),n.options.delay,Xi))};class ss extends qt{constructor(t,n){super(t,n),e(this,"show",(()=>{const{element:t,isShown:e}=this;t&&!e&&(at(t,Zi),Zi.defaultPrevented||(t=>{const{element:e,options:n}=t;bt(e,(()=>{R(e,Fi),vt(e),W(e,jt),W(e,Ri),n.animation?ct(e,(()=>ts(t))):ts(t)}),17,Ri)})(this))})),e(this,"hide",(()=>{const{element:t,isShown:e}=this;t&&e&&(at(t,Ji),Ji.defaultPrevented||(t=>{const{element:e,options:n}=t;W(e,Ri),n.animation?(vt(e),ct(e,(()=>es(t)))):es(t)})(this))}));const{element:o,options:i}=this;i.animation&&!F(o,Ut)?W(o,Ut):!i.animation&&F(o,Ut)&&R(o,Ut),this.dismiss=Mt(ji,o),this.triggers=[...Gt(Wi,ot(o))].filter((t=>ue(t)===o)),ns(this,!0)}get name(){return Yi}get defaults(){return qi}get isShown(){return F(this.element,jt)}dispose(){const{element:t,isShown:e}=this;var n;e&&R(t,jt),Pt((n=this).element,Xi),ns(n),super.dispose()}}e(ss,"selector",Ui),e(ss,"init",(t=>new ss(t))),e(ss,"getInstance",Vi);const as=new Map;[ee,re,ze,tn,kn,_o,Wo,mi,Ni,Gi,ss,ui].forEach((t=>as.set(t.prototype.name,t)));const rs=t=>{const e=t&&t.nodeName?t:document,n=[...zt("*",e)];as.forEach((t=>{const{init:e,selector:o}=t;((t,e)=>{[...e].forEach((e=>t(e)))})(e,n.filter((t=>Yt(t,o))))}))};document.body?rs():s(document,"DOMContentLoaded",(()=>rs()),{once:!0});const ls=n(65);window.addEventListener("DOMContentLoaded",(function(){new ls(".js-smartPhoto")}))})();